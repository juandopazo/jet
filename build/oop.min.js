/**
 * @module oop
 * @requires 
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https://github.com/juandopazo/jet/blob/master/LICENSE.md
*/
jet.add("oop",function(d){var k=Object.prototype,i=d.Array,j=d.Lang,l=function(a){var b=function(){};b.prototype=a;return new b};d.extend=function(a,b,c,e){if(!b||!a)d.error("extend failed, verify dependencies");var f=b.prototype,g=l(f);a.prototype=g;g.constructor=a;a.superclass=f;if(b!=Object&&f.constructor==k.constructor)f.constructor=b;c&&d.mix(g,c,true);e&&d.mix(a,e,true);return a};d.clone=function(a,b){var c;if(j.isArray(a)){c=[].concat(a);b&&i.each(c,function(e,f){c[f]=b?d.clone(e,b):e})}else if(a.hasOwnProperty&&
j.isObject(a,true)){c={};d.Hash.each(a,function(e,f){c[e]=b?d.clone(f,b):f})}else c=a;return c};var h=d.Class=function a(){for(var b=arguments,c=this._classes=[],e=this.constructor;e!==a;){c.unshift(e);e=e.superclass.constructor}i.each(c,function(f){i.each(f.EXTS||[],function(g){g.apply(this,b)},this);f.prototype.hasOwnProperty("initializer")&&f.prototype.initializer.apply(this,b)},this)};d.mix(h,{NAME:"Class",toString:function(){return"class "+h.NAME},create:function(a,b,c,e,f){function g(){g.superclass.constructor.apply(this,
arguments)}c=c||[];d.extend(g,b||h,f,e);d.mix(g,{NAME:a,create:function(m,n,o,p){return h.create(m,g,n,o,p)},mixin:function(){return h.mixin(g,Array.prototype.slice.call(arguments))},toString:function(){return"class "+g.NAME}},true);return h.mixin(g,c)},mixin:function(a,b){if(!a.EXTS)a.EXTS=[];a.EXTS.push.apply(a.EXTS,b);i.each(b,function(c){d.mix(a.prototype,c.prototype);d.Hash.each(c,function(e,f){if(a[e])d.Lang.isObject(a[e])&&d.Lang.isObject(f)&&d.mix(a[e],f);else a[e]=f})});return a}},true)});
