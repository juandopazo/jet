/**
 * @module oop
 * @requires 
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https://github.com/juandopazo/jet/blob/master/LICENSE.md
*/
jet.add("oop",function(c){var k=Object.prototype,i=c.Array,j=c.Lang,l=function(a){var b=function(){};b.prototype=a;return new b};c.extend=function(a,b,f,d){if(!b||!a)c.error("extend failed, verify dependencies");var e=b.prototype,g=l(e);a.prototype=g;g.constructor=a;a.superclass=e;if(b!=Object&&e.constructor==k.constructor)e.constructor=b;f&&c.mix(g,f,true);d&&c.mix(a,d,true);return a};c.clone=function(a,b){var f;if(j.isArray(a)){f=[].concat(a);b&&i.each(f,function(d,e){f[e]=b?c.clone(d,b):d})}else if(a.hasOwnProperty&&
j.isObject(a,true)){f={};c.Hash.each(a,function(d,e){f[d]=b?c.clone(e,b):e})}else f=a;return f};var h=c.Class=function a(){for(var b=arguments,f=this._classes=[],d=this.constructor;d!==a;){f.unshift(d);d=d.superclass.constructor}i.each(f,function(e){i.each(e.EXTS||[],function(g){g.apply(this,b)},this);e.prototype.hasOwnProperty("initializer")&&e.prototype.initializer.apply(this,b)},this)};c.mix(h,{NAME:"Class",toString:function(){return"class "+h.NAME},create:function(a,b,f,d,e){function g(){g.superclass.constructor.apply(this,
arguments)}c.extend(g,b||h,e,d);c.mix(g,{NAME:a,inherit:function(m,n,o,p){return h.create(m,g,n,o,p)},mixin:function(){return h.mixin(g,Array.prototype.slice.call(arguments))},toString:function(){return"class "+g.NAME}},true);return h.mixin(g,f||[])},mixin:function(a,b){if(!a.EXTS)a.EXTS=[];a.EXTS.push.apply(a.EXTS,b);i.each(b,function(f){c.mix(a.prototype,f.prototype);c.Hash.each(f,function(d,e){if(a[d])c.Lang.isObject(a[d])&&c.Lang.isObject(e)&&c.mix(a[d],e);else a[d]=e})});return a}},true)});
