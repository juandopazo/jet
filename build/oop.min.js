/**
 * @module oop
 * @requires 
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https://github.com/juandopazo/jet/blob/master/LICENSE.md
*/
jet.add("oop",function(d){var k=Object.prototype,i=d.Array,j=d.Lang,l=function(a){var b=function(){};b.prototype=a;return new b};d.extend=function(a,b,e,f){if(!b||!a)d.error("extend failed, verify dependencies");var c=b.prototype,g=l(c);a.prototype=g;g.constructor=a;a.superclass=c;if(b!=Object&&c.constructor==k.constructor)c.constructor=b;e&&d.mix(g,e,true);f&&d.mix(a,f,true);return a};d.clone=function(a,b){var e;if(j.isArray(a)){e=[].concat(a);b&&i.each(e,function(f,c){e[c]=b?d.clone(f,b):f})}else if(a.hasOwnProperty&&
j.isObject(a,true)){e={};d.Hash.each(a,function(f,c){e[f]=b?d.clone(c,b):c})}else e=a;return e};var h=d.Class=function a(){var b=arguments,e=this;i.each(a.getClasses(this),function(f){i.each(f.EXTS||[],function(c){c.apply(e,b)});f.prototype.hasOwnProperty("initializer")&&f.prototype.initializer.apply(e,b)})};d.mix(h,{create:function(a,b,e,f){function c(){c.superclass.constructor.apply(this,arguments)}d.extend(c,b||h,e,f);return d.mix(c,{NAME:a,inherit:function(g,m,n){return h.create(g,c,m,n)},mixin:function(g){return h.mixin(c,
g)}},true)},mixin:function(a,b){if(!a.EXTS)a.EXTS=[];a.EXTS.push.apply(a.EXTS,b);i.each(b,function(e){d.mix(a.prototype,e.prototype);d.Hash.each(e,function(f,c){if(a[f])d.Lang.isObject(a[f])&&d.Lang.isObject(c)&&d.mix(a[f],c);else a[f]=c})});return a},getClasses:function(a){var b=[];for(a=a.constructor;a&&a!==h;){b.unshift(a);a=a.superclass.constructor}return b},walk:function(a,b,e){d.Array.each(h.getClasses(a),b,e||a)}},true)});
