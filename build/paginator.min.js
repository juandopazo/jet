jet().add("paginator",function(b){var l=b.Lang;if(!jet.Paginator)jet.Paginator={};if(!l.isNumber(jet.Paginator.ids))jet.Paginator.ids=0;var i=function(){i.superclass.constructor.apply(this,arguments);var e=0,j=0,a=this.addAttrs({recordSet:{required:true},recordsPerPage:{value:10},firstLast:{value:true},prevNext:{value:true},pagesShown:{value:5},firstText:{writeOnce:true,value:"<< first"},prevText:{writeOnce:true,value:"< prev"},nextText:{writeOnce:true,value:"next >"},lastText:{writeOnce:true,value:"last >>"},
className:{writeOnce:true,value:"pg"},currentPage:{writeOnce:true,value:e},pageCount:{readOnly:true,value:j}});e=a.get("currentPage");var g=jet.Paginator.ids++,m=a.get("recordSet");j=Math.ceil(m.getRecords().length/a.get("recordsPerPage"))+1;a.get("recordSet").on("replace",function(){});var h=function(){return a};a.goTo=h;a.on("render",function(){var c=a.get("classPrefix"),k=a.get("className");c+=k;var f=a.get("boundingBox");b("<span/>").attr("id",c+g+"-first").addClass(c+"-first","inactive").on("click",
function(){b(this).hasClass("active")}).html(a.get("firstText")).appendTo(f);b("<span/>").attr("id",c+g+"-previous").addClass(c+"-previous","inactive").on("click",function(){b(this).hasClass("active")&&h(a.get("currentPage")-1)}).html(a.get("prevText")).appendTo(f);k=b("<span/>").addClass(c+"-pages").appendTo(f);for(var d=e+1;d<e+j+1;d++)b("<span/>").addClass(c+"-page",d==e+1?c+"-current-page":"",d==e+1?"active":"inactive").attr("id",c+"-page"+d).html(d).on("click",function(){return function(){}}(d)).appendTo(k);
b("<span/>").attr("id",c+g+"-next").addClass(c+"-next","inactive").on("click",function(){b(this).hasClass("active")&&h(a.get("currentPage")+1)}).html(a.get("nextText")).appendTo(f);b("<span/>").attr("id",c+g+"-last").addClass(c+"-last","inactive").on("click",function(){b(this).hasClass("active")&&h(a.get("pageCount")-1)}).html(a.get("lastText")).appendTo(f)})};b.extend(i,b.Widget);b.Paginator=i});
