/**
 * @module touch
 * @requires node
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https://github.com/juandopazo/jet/blob/master/LICENSE.md
*/
jet.add("touch",function(h){var i,e,j,f,k=h(document),g=function(a,b){a.trigger("flick",{direction:b}).trigger("flick:"+b)};h.NodeList.prototype.trigger=function(a,b){return this.each(function(d){var c=d.ownerDocument.createEvent("Events");c.initEvent(a,true,true);c.data=b;d.dispatchEvent(c)})};k.on("touchstart",function(a){a=a.touches[0];i=a.clientX;j=a.clientY});k.on("touchmove",function(a){a=a.touches[0];e=a.clientX;f=a.clientY});k.on("touchend",function(a){a=h(a.target);if(e>0||f>0){var b=Math.abs(e-
i),d=e-i>0?"left":"right",c=Math.abs(f-j),l=f-j<0?"down":"up";if(b>30&&c>30)if(b/c>=2)g(a,d);else c/b>=2&&g(a,l);else if(b>30)g(a,d);else c>30&&g(a,l)}})});
