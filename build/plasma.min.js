jet().add("plasma",function(d){var D=d.Lang,I=d.Hash,g=d.Array,e=!d.UA.ie||d.UA.ie>8,E=d.Node,q=E.prototype,y=function(a){var b=parseInt(a,10);return D.isValue(b)?b:a},F=function(a){return a.toString(16)},G=function(a){return parseInt(a,16)},o;try{document.namespaces.vml||document.namespaces.add("vml","urn:schemas-microsoft-com:vml");o=function(a){return d.context.createElement("<vml:"+a+' class="vml">')}}catch(L){o=function(a){return d.context.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="vml">')}}if(!e){var m=
d.context.createStyleSheet();m.addRule(".vml","behavior:url(#default#VML)");m.addRule(".vml","display:inline-block")}var r={},s=["width","height","left","top"];m=["x","y","rx","ry","xmlns","version","fill","opacity"].concat(s);var h={fill:"fillcolor",x:"left",y:"top",cx:"left",cy:"top"};if(e)m=m.concat(s);var i=function(a){return e?function(){return y(this._node.getAttribute(a))}:g.inArray(a,s)?function(){return y(this._node.style[a])}:function(){return y(this._node[a])}},p=function(a){return e?function(b){this._node.setAttribute(a,
b);return b}:g.inArray(a,s)?function(b){return this._node.style[a]=b}:function(b){return this._node[a]=b}};g.each(m,function(a){var b=!e&&h[a]?h[a]:a;r[a]={getter:i(b),setter:p(b)}});var z={stroke:"color","stroke-width":"weight","stroke-opacity":"opacity","stroke-linecap":"endcap","stroke-linejoin":"joinstyle","stroke-miterlimit":"miterlimit","stroke-dasharray":"dashstyle"},J=function(a){return e?function(){this._node.getAttribute(a)}:function(){return this.get("stroke")[z[a]]}},K=function(a){return e?
function(b){this._node.setAttribute(a,b);return b}:function(b){var c=this.get("stroke-node");c.on=true;return c[z[a]]=b}};I.each(z,function(a){r[a]={getter:J(a),setter:K(a)}});var f=e?function(){f.superclass.constructor.apply(this,arguments);var a=this;a.addAttr("node",{required:true,writeOnce:true,getter:function(){return a._node},setter:function(b){a._node=b.nodeType?b:d.context.createElementNS("http://www.w3.org/2000/svg",b);return a._node}});a.get("node");g.each(["on","unbind","unbindAll"],function(b){a[b]=
q[b]});a.addAttrs(r).addAttr("fill-opacity",{getter:function(){return this.get("node").getAttribute("fill-opacity")},setter:function(b){this.get("node").setAttribute("opacity",b);return b}})}:function(){f.superclass.constructor.apply(this,arguments);var a=this;a.addAttr("node",{required:true,writeOnce:true,getter:function(){return a._node},setter:function(k){a._node=k.nodeType?k:o(k);return a._node}});var b=o("stroke");b.on=false;a.set("stroke-node",b);var c=o("fill");a.set("fill-node",c);var n=a.get("node");
n.style.position="absolute";n.appendChild(b);n.appendChild(c);g.each(["on","unbind","unbindAll"],function(k){a[k]=q[k]});a.addAttrs(r).addAttr("fill-opacity",{getter:function(){return this.get("fill-node").opacity},setter:function(k){return this.get("fill-node").opacity=k}})};d.extend(f,d.Attribute,{translate:function(){},scale:function(){}});g.each(["append","appendTo","remove","css","hide","show","children"],function(a){f.prototype[a]=q[a]});var A=function(){var a=[],b=function(c){if(c instanceof
f)a[a.length]=c;else if(c.nodeType||D.isString(c))a[a.length]=new f(c)};g.each(arguments,function(c){c.length?g.each(c,b):b(c)});this._nodes=a};d.extend(A,d.Attribute,{});g.each(["each","append","appendTo","on","unbind","unbindAll","remove","hide","show"],function(a){A.prototype[a]=q[a]});var t=function(a){a.node="rect";t.superclass.constructor.apply(this,arguments)};d.extend(t,f,{rotate:e?function(a){this._node.setAttribute("transform","rotate("+a+" "+(this.get("x")+this.get("width")/2)+" "+(this.get("y")+
this.get("height")/2)+")");return this}:function(){}});var H=function(a){a.node=e?"rect":"roundrect";H.superclass.constructor.apply(this,arguments)};d.extend(H,f);var B=function(a){a.node=e?"ellipse":"oval";B.superclass.constructor.apply(this,arguments);var b=this.addAttrs({rx:{getter:e?function(){return this._node.getAttribute("rx")}:function(){return d.pxToFloat(this._node.style.width)/2},setter:e?function(c){this._node.setAttribute("rx",c);return c}:function(c){this._node.style.width=c*2;return c}},
ry:{getter:e?function(){return this._node.getAttribute("ry")}:function(){return d.pxToFloat(this._node.style.width)/2},setter:e?function(c){this._node.setAttribute("ry",c);return c}:function(c){this._node.style.height=c*2;return c}}});b.addAttrs({cx:{getter:i(!e&&h.cx?h.cx:"cx"),setter:e?function(c){this._node.setAttribute("cx",c);return c}:function(c){this._node.style.left=c-d.pxToFloat(b.get("rx"))+"px";return c}},cy:{getter:i(!e&&h.cy?h.cy:"cy"),setter:e?function(c){this._node.setAttribute("cy",
c);return c}:function(c){this._node.style.top=c-d.pxToFloat(b.get("ry"))/2+"px";return c}}})};d.extend(B,f);var u=function(a){a.node=e?"circle":"oval";u.superclass.constructor.apply(this,arguments);var b=this.addAttrs({r:{getter:e?function(){return this._node.getAttribute("r")}:function(){return this._node.style.width},setter:e?function(c){this._node.setAttribute("r",c);return c}:function(c){var n=this._node.style;n.width=c*2;n.height=c*2;return c}}});b.addAttrs({cx:{getter:i(!e&&h.cx?h.cx:"cx"),
setter:e?function(c){this._node.setAttribute("cx",c);return c}:function(c){this._node.style.left=c-d.pxToFloat(b.get("r"))/2+"px";return c}},cy:{getter:i(!e&&h.cy?h.cy:"cy"),setter:e?function(c){this._node.setAttribute("cy",c);return c}:function(c){this._node.style.top=c-d.pxToFloat(b.get("r"))/2+"px";return c}}})};d.extend(u,f);var C=function(a){a.node="line";C.superclass.constructor.apply(this,arguments);this.addAttrs({x1:{getter:i("x1"),setter:p("x1")},x2:{getter:i("x2"),setter:p("x2")},y1:{getter:i("y1"),
setter:p("y1")},y2:{getter:i("y2"),setter:p("y2")}})};d.extend(C,f);var v=function(a){v.superclass.constructor.call(this,"Image");this.attr(a)};d.extend(v,f);var w=function(a){w.superclass.constructor.call(this,"text");this.attr(a)};d.extend(w,f);var x=function(a){x.superclass.constructor.call(this,"path");this.attr(a)};d.extend(x,f);var j=e?function(){j.superclass.constructor.apply(this,arguments);var a=new f({node:"svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1"});this.addAttrs({srcNode:{required:true,
setter:d},width:{setter:function(b){a.set("width",b);return b}},height:{setter:function(b){a.set("height",b);return b}},boundingBox:{readOnly:true,getter:function(){return a}}}).get("srcNode").append(a)}:function(){j.superclass.constructor.apply(this,arguments);var a=new E("div");a.css({position:"relative",overflow:"hidden"});this.addAttrs({srcNode:{required:true,setter:function(b){return d(b)}},width:{setter:function(b){a.css("width",b);return b}},height:{setter:function(b){a.css("height",b);return b}},
boundingBox:{readOnly:true,getter:function(){return a}}}).get("srcNode").append(a)},l=function(a,b){return a.set("plasma",b).appendTo(b.get("boundingBox"))};d.extend(j,d.TimeFrame,{rectangle:function(a){return l(new t(a),this)},circle:function(a){return l(new u(a),this)},ellipse:function(a){return l(new B(a),this)},image:function(a){return l(new v(a),this)},text:function(a){return l(new w(a),this)},line:function(a){return l(new C(a),this)},path:function(a){return l(new x(a),this)},link:function(){return new A(arguments)},
clear:function(){this.get("boundingBox").children().remove()}});j.Circle=u;j.Rectangle=t;j.Image=v;j.Text=w;j.Path=x;d.add({Plasma:j,decToHex:F,hexToDec:G,colorHexToArray:function(a){if(a.substr(0,1)=="#")a=a.substr(1);a=a.length==3?[a.substr(0,1)+a.substr(0,1),a.substr(1,1)+a.substr(1,1),a.substr(2,1)+a.substr(2,1)]:[a.substr(0,2),a.substr(2,2),a.substr(4,2)];g.each(a,function(b,c){a[c]=G(b)});return a},colorArrayToHex:function(a){for(var b=0;b<3;b++){a[b]=F(a[b]);if(a[b]<10)a[b]="0"+a[b]}return"#"+
a.join("")},Graphic:f})});
