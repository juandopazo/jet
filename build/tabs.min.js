jet().add("tabs",function(e){var j=e.Lang,n=e.Array,h=function(){h.superclass.constructor.apply(this);var b=this;b.addAttrs({label:{required:true,setter:function(c){return j.isString(c)?e.create("li").append(e.create("a").html(c)):e(c)}},panel:{required:true,setter:function(c){return j.isString(c)?e.create("div").html(c):e(c)}},selected:{value:false}}).addAttrs({labelContent:{setter:function(c){var g=b.get("label");g.children().remove();g.append(c);return c}},panelContent:{setter:function(c){var g=
b.get("panel");g.children().remove();g.append(c);return c}}}).get("label").first().on("click",function(c){c.preventDefault();c.stopPropagation();b.select()})};e.extend(h,e.Attribute,{select:function(b){b=b||false;this.get("label").addClass("selected");this.get("panel").show();this.set("selected",true);b||this.fire("selected");return this},unselect:function(b){b=b||false;this.get("label").removeClass("selected");this.get("panel").hide();this.set("selected",false);b||this.fire("unselected");return this},
remove:function(){if(this.fire("remove")){this.get("label").remove();this.get("panel").remove()}}});var l=function(){l.superclass.constructor.apply(this,arguments);var b=this,c=b.get("srcNode");b.set("boundingBox",c);var g,i,f=[],o=function(){var a=this;n.each(f,function(d){d!=a&&d.unselect()});b.fire("tabSelect",a)},p=function(){f.splice(this.index,1);this.selected&&b.select(0);for(var a=this.index;a<f.length;a++)f[a].index=a};b.on("render",function(a,d){d&&b.set("boundingBox",e(d));g=c.children("ul").eq(0);
i=c.children("div");i.getNodes().length>0&&i.notEq(0).hide();g.getNodes().length>0&&g.children().each(function(q,m){var k=new h({label:q,panel:i.eq(m).getNode()?i.eq(m):""});k.index=m;k.on("selected",o);k.on("remove",p);f[f.length]=k});return b});this.add=function(a,d){a instanceof h||(a=new h(a));if(j.isNumber(d)&&d<f.length-1){a.get("label").insertBefore(g.children(d));a.get("panel").insertBefore(i.eq(d))}else{a.get("label").appendTo(g);a.get("panel").appendTo(c)}f.splice(d,0,a);return b};this.remove=
function(a){if(j.isNumber(a))f[a].remove();else a.nodeType?n.each(f,function(d){if(d.label==a||d.panel==a)d.remove()}):a.remove();return b};this.select=function(a){j.isNumber(a)?f[a].select():a.select();return b};this.getTab=function(a){return f[a]}};e.extend(l,e.Widget);e.add({Tab:h,TabView:l})});
