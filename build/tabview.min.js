/**
 * @module tabview
 * @requires base,widget-parentchild
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https://github.com/juandopazo/jet/blob/master/LICENSE.md
*/
jet.add("tabview",function(c){var e=c.Base,f=c.Widget;c.Tab=e.create("tab",f,[c.WidgetChild],{ATTRS:{panelNode:{setter:c},triggerEvent:{value:"click"},labelContent:{value:""},panelContent:{value:""},href:{value:"#",writeOnce:true}},EVENTS:{triggerEventChange:function(a,b,d){this.unbind(b,this._selectHandler).on(d,this._selectHandler)},labelContentChange:function(a,b){var d=this.get("contentBox");d.children().remove();b instanceof c.NodeList?d.append(b):d.html(b)},panelContentChange:function(a,b){var d=
this.get("panelNode");d.children().remove();b instanceof c.NodeList?d.append(b):d.html(b)},selectedChange:function(a,b){var d=this.getClassName("panel","selected"),g=this.get("panelNode");b?g.addClass(d):g.removeClass(d)},render:function(){this.get("contentBox").attr("href",this.get("href")).html(this.get("labelContent"));this.on(this.get("triggerEvent"),this._selectHandler);var a=this.get("panelNode").html(this.get("panelContent")).addClass(this.getClassName("panel")),b=this.get("parent").get("panelContainer");
a.parent()._nodes[0]!=b._nodes[0]&&a.appendTo(this.get("parent").get("panelContainer"));this.get("selected")&&a.addClass(this.getClassName("panel","selected"))},destroy:function(){this.get("panelNode").remove()}},HTML_PARSER:{panel:function(){return this.get("parent").get("panelContainer").children(this.get("index"))},panelContent:function(){var a=this.get("panelNode");if(a)return a.html()},labelContent:function(){var a=this.get("contentBox");if(a)return a.html()}}},{BOUNDING_TEMPLATE:"<li/>",CONTENT_TEMPLATE:"<a/>",
PANEL_TEMPLATE:"<div/>",initializer:function(){this.get("panelNode")||this.set("panelNode",this.PANEL_TEMPLATE);var a=this.get("parent");a&&this.set("cssPrefix",a.get("cssPrefix"))},_selectHandler:function(a,b){b.preventDefault();b.stopPropagation();this.select()}});c.TabView=e.create("tabview",f,[c.WidgetParent],{ATTRS:{panelContainer:{setter:c},defaultChildType:{value:c.Tab},multiple:{value:false,readOnly:true}},EVENTS:{render:function(){this.get("panelContainer").addClass(this.getClassName("panel",
"container")).appendTo(this.get("boundingBox"))}},HTML_PARSER:{panelContainer:function(a){return c(a.children("div")._nodes[0])}}},{CONTENT_TEMPLATE:"<ul/>",CONTAINER_TEMPLATE:"<div/>",initializer:function(){this.get("panelContainer")||this.set("panelContainer",this.CONTAINER_TEMPLATE)}})});
