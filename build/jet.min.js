(function(){var J=location.protocol+"//jet-js.googlecode.com/svn/trunk/build/",q=window,r=document,D=navigator,K=Array.prototype.slice,L=Object.prototype.toString,M={dom:true,base:true,ajax:["json"],json:true,cookie:true,forms:true,sizzle:true,tabs:["base"],resize:["base"],xsl:true,flash:true,container:["base"],dragdrop:["base"],imageloader:["base"],anim:["base"],datasource:["base"],datatable:["datasource"],plasma:["anim"]},m=function(){var c={number:"number",string:"string",undefined:"undefined","[object Object]":"hash",
"[object Function]":"function","[object Array]":"array","boolean":"boolean"},f=function(d){return c[typeof d]||c[L.call(d)]||(d?"object":"null")};return{isNumber:function(d){return f(d)==="number"&&isFinite(d)},isString:function(d){return f(d)==="string"},isArray:function(d){return f(d)==="array"},isHash:function(d){return f(d)==="hash"},isFunction:function(d){return f(d)==="function"},isBoolean:function(d){return typeof d=="boolean"},isUndefined:function(d){return typeof d=="undefined"},type:f,isValue:function(d){var e=
f(d);switch(e){case "number":return isFinite(d);case "null":case "undefined":return false;case "boolean":return true;default:return!!e}},trim:function(d){d=d.replace(/^\s\s*/,"");for(var e=/\s/,h=d.length;e.test(d.charAt(--h)););return d.slice(0,h+1)}}}(),o={each:function(c,f){c=c||[];var d,e=c.length;for(d=0;d<e;d++)f.call(c[d],c[d],d)},remove:function(c,f){for(var d=0,e=f.length;d<e;)if(f[d]==c)f.splice(d,1);else d++;return f},indexOf:function(c,f){var d,e=f.length;for(d=0;d<e;d+=1)if(f[d]==c)return d;
return-1},inArray:function(c,f){return this.indexOf(c,f)>-1}},t=function(){var c=function(f,d){for(var e in f)if(f.hasOwnProperty(e))if(d.call(f,e,f[e])=="break")break};return{each:c,BREAK:"break",keys:function(f){var d=[];c(f,function(e){d[d.length]=e});return d},values:function(f){var d=[];c(f,function(e,h){d[d.length]=h});return d}}}(),C=function(c,f,d){var e=r.createElement(c);t.each(f,function(h,j){e[h]=j});t.each(d,function(h,j){e.style[h]=j});return e},E=r.getElementsByTagName("head")[0],F=
function(c){E.appendChild(C("script",{type:"text/javascript",asyng:true,src:c}))},G=function(c){E.appendChild(C("link",{type:"text/css",rel:"stylesheet",href:c}))},u=function(c,f,d){c=c||{};f=f||{};for(var e in f)if(f.hasOwnProperty(e)&&(!c[e]||d))c[e]=f[e];return c},v=function(c){var f;if(m.isHash(c)){f={};t.each(c,function(d,e){f[d]=v(e)})}else if(m.isArray(c)){f=[];o.each(c,function(d){f[f.length]=v(d)})}else f=c;return f},s=function(){var c={},f=function(e){f=e.detachEvent?function(h){var j,k,
a;for(j in c)if(c.hasOwnProperty(j)){k=c[j];for(a=0;a<k.length;)if(k[a].obj==h){k[a].obj.detachEvent("on"+j,k[a].fn);k.splice(a,1)}else a++}}:function(h){var j,k,a;for(j in c)if(c.hasOwnProperty(j)){k=c[j];for(a=0;a<k.length;)if(k[a].obj==h){k[a].obj.removeEventListener(j,k[a].fn,false);k.splice(a,1)}else a++}};f(e)},d=function(e){c[e]||(c[e]=[]);return c[e]};return{add:function(e,h,j){if(e.nodeType){h=d(h);h[h.length]={obj:e,fn:j}}},remove:function(e,h,j){o.remove(d(h),{obj:e,fn:j})},clear:f,flush:function(){for(var e in c)c.hasOwnProperty(e)&&
f(e)}}}(),w=function(c,f,d){if(c.addEventListener)w=function(e,h,j){e.addEventListener(h,j,false);s.add(e,h,j)};else if(c.attachEvent)w=function(e,h,j){e.attachEvent("on"+h,function(){var k=window.event;k.target=k.srcElement;k.preventDefault=function(){k.returnValue=false};k.stopPropagation=function(){k.cancelBubble=true};j.call(event.srcElement,k)});s.add(e,h,j)};w(c,f,d)},z=function(c,f,d){if(c.removeEventListener)z=function(e,h,j){e.removeEventListener(h,j,false);s.remove(e,h,j)};else if(c.detachEvent)z=
function(e,h,j){e.detachEvent("on"+h,j);s.remove(e,h,j)};z(c,f,d)},N=function(){var c,f=function(a,b){b(a);for(a=a.firstChild;a;){a.nodeType!=3&&f(a,b);a=a.nextSibling}},d=function(a,b){b=b||c.context;if(m.isString(a))a=b.createElement(a);else if(!a.nodeType&&a!=c.win)throw Error("Node must receive either a node name or a DOM node");this._node=a};m.isNode=function(a){return a instanceof d};u(d.prototype,{hide:function(){var a=this._node,b=a.style.display;if(!a.JET_oDisplay&&b!="none")a.JET_oDisplay=
b;a.style.display="none";return this},show:function(){var a=this._node;a.style.display=a.JET_oDisplay||"";return this},toggle:function(){var a=this._node,b=a.style;a=a.LIB_oDisplay;b.display=b.display!="none"?"none":a?a:"";return this},hasClass:function(a){var b=this._node;return o.inArray(a,b.className?b.className.split(" "):[])},removeClass:function(){var a=this._node;o.each(arguments,function(b){a.className=o.remove(b,a.className?a.className.split(" "):[]).join(" ")});return myelf},addClass:function(){var a=
this._node;o.each(arguments,function(b){var g=a.className?a.className.split(" "):[];if(!o.inArray(b,g)){g[g.length]=b;a.className=g.join(" ")}});return myelf},toggleClass:function(a){var b=this._node,g=b.className?b.className.split(" "):[];if(o.inArray(a,g))o.remove(a,g);else g[g.length]=a;b.className=g.join(" ");return myelf},setClass:function(a){this._node.className=a;return this},scrollLeft:function(a){if(m.isValue)c.win.scrollTo(a,this.scrollTop());else{a=c.context;var b=a.defaultView;return Math.max(a.documentElement.scrollLeft,
a.body.scrollLeft,b?b.pageXOffset:0)}},scrollTop:function(a){if(m.isValue)c.win.scrollTo(this.scrollTop(),a);else{a=c.context;var b=a.defaultView;return Math.max(a.documentElement.scrollTop,a.body.scrollTop,b?b.pageYOffset:0)}},offset:function(){var a=this._node,b={left:0,top:0,width:a.offsetWidth,height:a.offsetHeight},g=a.ownerDocument;if(a&&g)if(a.getBoundingClientRect){a=a.getBoundingClientRect();var l=g.body;g=g.documentElement;b.left=a.left+this.scrollLeft()-(g.clientLeft||l.clientLeft||0);
b.top=a.top+this.scrollTop()-(g.clientTop||l.clientTop||0)}else{if(a.offsetParent){do{b.left+=a.offsetLeft;b.top+=a.offsetTop;a=a.offsetParent}while(a)}}else b=null;return b},width:function(a){var b=this._node;if(m.isValue(a)){b.style.width=m.isString(a)?a:a+"px";return this}return b.offsetWidth},height:function(a){var b=this._node;if(m.isValue(width)){b.style.height=m.isString(a)?a:a+"px";return this}return b.offsetWidth},clone:function(a){a=m.isValue(a)?a:true;return new d(this._node.cloneNode(a))},
append:function(a){if(a._node)a=a._node;this._node.appendChild(a);return this},appendTo:function(a){if(a._node)a=a._node;a.appendChild(this._node);return this},prepend:function(a){if(m.isNode(a))a=a._node;var b=this._node;b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a);return this},prependTo:function(a){if(m.isNode(a))a=a._node;var b=this._node;a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);return this},insertBefore:function(a){if(m.isNode(a))a=a._node;a.parentNode&&a.parentNode.insertBefore(this._node,
a);return this},parent:function(){return new d(this._node.parentNode)},first:function(){return new d(this.children()._nodes.shift())},last:function(){return new d(this.children()._nodes.pop())},html:function(a){if(m.isValue(a)){this._node.innerHTML=a;return this}else return this._node.innerHTML},attr:function(a,b){a=a||{};var g=this._node,l={};if(m.isHash(a))l=a;else if(m.isValue(b))l[a]=b;else return g[a];t.each(l,function(p,n){g[p]=n});return this},css:function(a,b){var g=this._node,l={};if(m.isHash(a))l=
a;else if(m.isValue(b))l[a]=b;else return this._node.style[a];t.each(l,function(p,n){if(p=="opacity"&&c.UA.ie){var x=Math.ceil(n*100);if(c.UA.ie<7)g.style["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity="+x+")";else g.style.filter="alpha(opacity="+x+")"}else{if(m.isNumber(n)&&p!="zIndex"&&p!="zoom"&&p!="opacity")n+="px";g.style[p]=n}});return this},find:function(a){return c(a,this._node)},children:function(a){a=!m.isValue(a)?false:m.isString(a)?a.toUpperCase():a;for(var b=[],g=this._node.childNodes,
l=[],p=g.length,n=0;n<p;n++)if(g[n].nodeType!=3)l[l.length]=g[n];if(a!==false){p=l.length;for(n=0;n<p;n++)if(n==a||l[n].nodeName==a)b[b.length]=l[n]}else b.push.apply(b,l);return new e(b)},on:function(a,b){w(this._node,a,b);return this},unbind:function(a,b){z(this._node,a,b);return this},unbindAll:function(a){var b=this._node;a?f(b,s.clear):s.clear(b);return this},remove:function(a){var b=this._node;a||f(b,s.clear);b.parentNode&&b.parentNode.removeChild(b);return this},getDocument:function(){var a=
this._node;if(a.nodeName=="IFRAME")return new d(a.contentDocument||a.contentWindow.document||a.document||null);return null},currentStyle:function(){var a=this._node;return c.win[GET_COMPUTED_STYLE]?c.win[GET_COMPUTED_STYLE](a,null):a[CURRENT_STYLE]?a[CURRENT_STYLE]:a.style}});var e=function(){var a=[],b=function(g){if(m.isNode(g))a[a.length]=g;else if(g.nodeType||m.isString(g))a[a.length]=new d(g)};o.each(arguments,function(g){g.length?o.each(g,b):b(g)});this._nodes=a},h=e.prototype;u(h,{each:function(a){for(var b=
this._nodes,g=b.length,l=0;l<g;l++)a.call(b[l],b[l],l);return this},eq:function(a){return new d(this_nodes[a])},notEq:function(){var a=v(this._nodes);a.splice(i,1);return new e(a)}});m.isNodeList=function(a){return a instanceof e};e.addSetter=function(a){h[a]=function(){var b=arguments;return this.each(function(g){g[a].apply(g,b)})}};o.each(["append","appendTo","preprend","prependTo","remove","on","unbind","unbindAll","addClass","removeClass","toggleClass","hide","show","toggle"],e.addSetter);e.addGetter=
function(a){h[a]=function(){var b=arguments,g=[];this.each(function(l){g[g.length]=l[a].apply(l,b)});return g}};o.each(["hasClass","offset","getDocument","currentStyle"],e.addGetter);e.addListGetter=function(a){h[a]=function(){var b=arguments,g=[];this.each(function(l){o.each(l[a].apply(l,b),function(p){if(!o.inArray(p._node,g))g[g.length]=p._node})});return new e(g)}};o.each(["children","first","last","parent","find","clone"],e.addListGetter);e.addMixed=function(a){h[a]=function(){var b=arguments;
if(b.length===0){var g=[];this.each(function(l){g[g.length]=l[a]()});return g}else return this.each(function(l){l[a].apply(l,b)})}};o.each(["html","css","attr","widt","height"],e.addMixed);var j=function(a,b){j=b.getElementsByClassName?function(g,l){return l.getElementsByClassName(g)}:function(g,l){var p=[];f(l,function(n){var x=n.className;if(x)if(o.indexOf(g,x.split(" ")))p[p.length]=n});return p};j(a,b)};c=function(a,b){b=b||c.context||document;c.context=b;if(m.isString(a)){a=c.parseQuery(a,b);
a=!m.isValue(a)?null:a.length?new e(a):new d(a,b)}else a=m.isArray(a)?new e(a,b):new d(a);return a};c.win=q;c.context=r;if(q.JSON)c.JSON=q.JSON;c.parseQuery=function(a,b){b=b||c.context;var g=a.substr(0,1);if(g=="<"){g=new d("div",b);g.html(a);return g._node}else return g=="#"?b.getElementById(a.substr(1)):g=="."?j(a.substr(1),b):b.getElementsByTagName(a)};var k=function(a){u(c,a)};k({mix:u,add:k,clone:v,walkTheDOM:f,getWindowFromDocument:function(a){a=a||c.context;return a.defaultView||a.parentWindow||
c.win},Lang:m,Array:o,Hash:t,Node:d,NodeList:e,Get:{script:F,css:G},screenSize:function(){var a=c.context,b=a.documentElement;a=a.body;return{height:b.clientHeight||c.win.innerHeight||a.clientHeight,width:b.clientWidth||c.win.innerWidth||a.clientWidth}},pxToFloat:function(a){return m.isNumber(parseFloat(a))?parseFloat(a):m.isString(a)?parseFloat(a.substr(0,a.length-2)):a},UA:function(){var a=D.userAgent.toLowerCase(),b=D.platform.toLowerCase(),g=/KHTML/.test(a)||/webkit/i.test(a),l=/chrome/i.test(a),
p=/opera/i.test(a),n=!+"\u000b1";return{w3:!!(r.getElementById&&r.getElementsByTagName&&r.createElement),webkit:g,chrome:l,ie:n?r.documentMode:false,opera:p,gecko:!g&&!p&&!n&&/Gecko/i.test(a),win:b?/win/.test(b):/win/.test(a),mac:b?/mac/.test(b):/mac/.test(a)}}()});return c},y=[],H={},A={},I=function(){for(var c,f=0,d,e,h;f<y.length;){e=y[f].req;h=e.length;for(d=c=0;d<h;d++)A[e[d].name]&&c++;if(c==h){c=new N;for(d=0;d<h;d++)A[e[d].name](c);y[f].main(c);y.splice(f,1)}else f++}};if(!q.jet){w(q,"unload",
s.flush);var B=C("div",{id:"jet-tracker"},{position:"absolute",width:"1px",height:"1px",top:"-1000px",left:"-1000px",visibility:"hidden"});r.body.appendChild(B);q.jet=function(c){c=c||{};var f=J;if(c.base){f=c.base;f=f.substr(f.length-1,1)=="/"?f:f+"/"}c.minify=m.isBoolean(c.minify)?c.minify:false;var d=u(v(M),c.modules||{},true),e=function(h){G(h.fullpath||f+h.path);var j=setInterval(function(){if((q.getComputedStyle?q.getComputedStyle(B,null):B.currentStyle?B.currentStyle:{})[h.beacon.name]==h.beacon.value){clearInterval(j);
jet().add(h.name,function(){})}},50)};return{use:function(){var h=K.call(arguments),j,k;for(j=0;j<h.length-1;j++){k=h[j];if(m.isString(k))h[j]=k.toLowerCase();(k=d[h[j]])&&m.isArray(k)&&o.each(k,function(a){if(!o.inArray(a,h)){h.splice(j,0,a);j--}})}q.JSON&&o.remove("json",h);for(j=0;j<h.length-1;j++){k=h[j];if(m.isString(k)&&d[k])if(m.isHash(d[k]))k=d[k];else h[j]=k={name:k,path:k+(c.minify?".min.js":".js")};h[j]=k;if(!A[k.name]&&!H[k.name]){if(!k.type||k.type=="js")F(k.fullpath||f+k.path);else k.type==
"css"&&e(k);H[k.name]=1}}y.push({main:h.pop(),req:h});I()},add:function(h,j){A[h]=j;I()}}}}})();
