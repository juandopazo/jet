/**
 * @module button
 * @requires base
 * 
 * Copyright (c) 2012, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https://github.com/juandopazo/jet/blob/master/LICENSE.md
*/
jet.add("button",function(c){var d=c.Lang,e=c.Base,g=c.Widget,k=c.WidgetParent,f=c.WidgetChild;jet.namespace("Button");f=c.Button=e.create("button",g,[f],{ATTRS:{enabled:{value:true,validator:d.isBoolean},labelNode:{value:null,setter:c},labelContent:{value:null,validator:d.isString},text:{value:""}},EVENTS:{mouseover:function(){this.get("boundingBox").addClass(this.getClassName("hover"))},mouseout:function(){this.get("boundingBox").removeClass(this.getClassName("hover"))}}},{CONTENT_TEMPLATE:"<button/>",
LABEL_TEMPLATE:"<label/>",_reportPressed:function(a){this.fire("pressed",{domEvent:a})},_uiFocusedChange:function(a){this.get("boundingBox").toggleClass(this.getClassName("focus"),a.newVal);this.get("contentBox")[a.newVal?"focus":"blur"]()},_uiTextChange:function(a){this.get("contentBox").html(a.val)},_uiLabelChange:function(a){var b=this.get("labelNode");a=a.newVal;if(d.isString(a)){b.html(a);b.parent().getDOMNode()||this.get("boundingBox").prepend(b)}else b.remove()},_uiEnabledChange:function(a){this.get("boundingBox").toggleClass(this.getClassName("disabled"),
!a.newVal);this.get("contentBox").getDOMNode().disabled=!a.newVal},initializer:function(){this.set("labelNode",this.get("labelNode")||this.LABEL_TEMPLATE);this.after("enabledChange",this._uiEnabledChange);this.after("labelContentChange",this._uiLabelChange);this.after("textChange",this._uiTextChange);this.after("focusedChange",this._uiFocusedChange)},renderUI:function(a,b){var h=this.getClassName("content",this._uid),i=this.get("labelNode"),j=this.get("labelContent");b.attr("id",h).html(this.get("text"));
i.getDOMNode().setAttribute("for",h);d.isString(j)&&a.prepend(i.html(j))},bindUI:function(a,b){this._handlers.push(b.on("focus",this.focus,this),b.on("blur",this.blur,this),b.on("click",this._reportPressed,this))},syncUI:function(a,b){b.getDOMNode().disabled=!this.get("enabled")},destructor:function(){this.get("labelNode").remove()}});c.ToggleButton=e.create("button-toggle",f,[],{EVENTS:{click:function(){this.toggle()}}});c.ButtonGroup=e.create("button-group",g,[k],{ATTRS:{defaultChildType:{value:c.Button},
pill:{value:false,validator:d.isBoolean}}},{_uiPillChange:function(a){this.get("boundingBox").toggleClass(this.getClassName("pill"),a.newVal)},initializer:function(){this.after("pillChange",this._uiPillChange)},renderUI:function(a){a.toggleClass(this.getClassName("pill"),this.get("pill"))}})});
