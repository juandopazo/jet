jet().add("anim",function(e){var u=e.Lang,p=e.Hash,z=e.Array,v=function(a){return!u.isString(a)?a:a.substr(-2,a.length)=="px"?parseFloat(a.substr(0,a.length-2)):parseFloat(a)};if(!jet.TimeFrame){jet.TimeFrame=function(){var a=[],c,d=0;return{fps:50,play:function(){var b=this;c&&clearInterval(c);var i=Math.round(1E3/b.fps);c=setInterval(function(){d+=i;b.fire("enterFrame",d)},i);return b},stop:function(){c&&clearInterval(c);return this},addTween:function(b){a[a.length]=b;return this},removeTween:function(b){z.remove(b,
a);return a.length===0?this.stop():this}}}();e.mix(jet.TimeFrame,new e.EventTarget)}var k=function(){k.superclass.constructor.apply(this,arguments);var a=jet.TimeFrame,c=false,d=function(){return!c},b=this.addAttrs({node:{writeOnce:true,required:true,setter:function(h){return e(h)}},from:{value:false,validator:d},to:{required:true,validator:d},easing:{value:k.easing.DEFAULT},easingStrength:{value:2,setter:function(h){return Math.abs(h)}},startFrame:{value:0},duration:{value:1E3,setter:function(h){return h==
"fast"?500:h=="slow"?4E3:u.isNumber(h)?h:1E3}}}),i=b.get("node"),f,l,m,q=0,w,x,y,t=function(h,g){if(c){m||(m=g);var r=g-m+q,j=0,A=p.keys(l).length;p.each(l,function(o,n){var s=w(r,f[o],n,x,y);if(n>=f[o]&&s>=n||n<=f[o]&&s<=n)++j;i.css(o,s)});if(j==A){b.stop();b.fire("finish")}}};b.play=function(){var h=i.currentStyle();c=true;f=b.get("from");l=b.get("to");f||(f={css:{}});p.each(l,function(g,r){l[g]=v(r);if(!f[g]){var j=i.offset();switch(g){case "left":f[g]=j.left;break;case "top":f[g]=j.top;break;
case "width":f[g]=j.width;break;case "height":f[g]=j.height;break;default:f[g]=v(h[g])}}});w=b.get("easing");x=b.get("duration");y=b.get("easingStrength");a.on("enterFrame",t);a.addTween(b).play();return b};b.stop=function(){c=false;a.removeTween(b);a.unbind("enterFrame",t);q=m=0;return b};b.pause=function(){c=false;a.removeTween(b);a.unbind("enterFrame",t);q=(new Date).getTime()-m;return b}};e.extend(k,e.Base);k.easing={DEFAULT:function(a,c,d,b){return(d-c)*a/b+c},EASEIN:function(a,c,d,b,i){return d+
c-d*Math.pow((b-a)/b,i)+c},EASEOUT:function(a,c,d,b,i){return d*Math.pow(a/b,i)+c}};e.augment(e.NodeList,{animate:function(a,c,d,b){this.tw=(new k({node:this,to:a,duration:c,easing:d})).on("finish",b).play();return this},fadeIn:function(a,c){return this.animate({opacity:1},a,null,c)},fadeOut:function(a,c){return this.animate({opacity:0},a,null,c)},fadeToggle:function(a,c){return this.each(function(d){d=e(d);d.css("opacity")==1?d.fadeOut(a,c):d.fadeIn(a,c)})},slideDown:function(a,c){var d=this,b=d.css("overflow");
return d.css("overflow","hidden").animate({height:d.oHeight},a,null,function(){d.css("overflow",b);c.call(d)})},slideUp:function(a,c){var d=this,b=d.css("overflow");return d.css("overflow","hidden").animate({height:0},a,null,function(){d.css("overflow",b);c.call(d)})},stop:function(){this.tw&&this.tw.stop();return this}});e.add({Tween:k})});
