jet().add("anim",function(f){var r=f.Lang,s=f.Hash,t=f.Array,k=function(){k.superclass.constructor.apply(this,arguments);var d=false,c=false,a=[],b=this.addAttrs({node:{writeOnce:true,setter:function(e){return f(e)},value:"<canvas/>"},paused:{readOnly:true,getter:function(){return!!d}},playing:{readOnly:true,getter:function(){return!!c}},tweens:{readOnly:true,getter:function(){return f.clone(a)}},fps:{validator:function(){return!c},value:50}}),g,l=0,i=Math.round(1E3/b.get("fps"));b.play=function(){d=
false;c=true;g&&clearInterval(g);t.each(a,function(e){e.play(0,i)});l=0;g=setInterval(function(){l+=i;b.fire("enterFrame",l)},i);return b};b.stop=function(){d=c=false;g&&clearInterval(g);return b};b.pause=function(){c=false;d=true;return b};b.addTween=function(e){a[a.length]=e;b.on("enterFrame",e.frame);e.on("stop",b.stop);return b};b.removeTween=function(e){b.unbind("enterFrame",e.frame);t.remove(e,a);return b}};f.extend(k,f.Base);k.easing={DEFAULT:function(d,c,a,b){return(a-c)*d/b+c},EASEIN:function(d,
c,a,b,g){return a+c-a*Math.pow((b-d)/b,g)+c},EASEOUT:function(d,c,a,b,g){return a*Math.pow(d/b,g)+c}};var q=function(){q.superclass.constructor.apply(this,arguments);var d=false,c=function(){return!!d},a=this.addAttrs({node:{required:true,setter:function(h){return f(h)}},from:{value:{},validator:c},to:{required:true,validator:c},easing:{value:k.easing.DEFAULT},easingStrength:{value:2,setter:function(h){return Math.abs(h)}},startFrame:{value:0},duration:{value:1E3,setter:function(h){return h=="fast"?
500:h=="slow"?4E3:r.isNumber(h)?h:1E3}}}),b=a.get("node");(c=a.get("height"))&&b.height(c);(c=a.get("width"))&&b.height(c);var g=b.currentStyle(),l=0,i,e,n,o;a.play=function(h,p){d=true;l=0;i=a.get("from");e=a.get("to");n=a.get("duration");o={};s.each(e,function(j){i[j]=r.isNumber(i[j])?i[j]:f.pxToFloat(g[j])});for(var u=a.get("easingStrength"),v=a.get("easing"),m=0;m<=n;m+=p){o[m]={};s.each(e,function(j,w){o[m][j]=v(m,i[j],w,n,u)})}return a};a.stop=function(){d=false;return a};a.pause=function(){return a};
a.frame=function(h,p){if(p>n){d=false;a.fire("stop")}d&&b.css(o[p]);return a}};f.extend(q,f.Base);f.add({TimeFrame:k,Tween:q})});
