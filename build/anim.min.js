jet().add("anim",function(h){var k=function(){k.superclass.constructor.apply(this,arguments);var d=false,c=false,a=[],b=this.addAttrs({node:{writeOnce:true,setter:function(e){return h(e)},value:"<canvas/>"},paused:{readOnly:true,getter:function(){return!!d}},playing:{readOnly:true,getter:function(){return!!c}},tweens:{readOnly:true,getter:function(){return h.clone(a)}},fps:{validator:function(){return!c},value:50}}),f,l=0,i=Math.round(1E3/b.get("fps"));b.play=function(){d=false;c=true;f&&clearInterval(f);
ArrayHelper.each(a,function(e){e.play(0,i)});l=0;f=setInterval(function(){l+=i;b.fire("enterFrame",l)},i);return b};b.stop=function(){d=c=false;f&&clearInterval(f);return b};b.pause=function(){c=false;d=true;return b};b.addTween=function(e){a[a.length]=e;b.on("enterFrame",e.frame);e.on("stop",b.stop);return b};b.removeTween=function(e){b.unbind("enterFrame",e.frame);ArrayHelper.remove(e,a);return b}};h.extend(k,h.Base);k.easing={DEFAULT:function(d,c,a,b){return(a-c)*d/b+c},EASEIN:function(d,c,a,b,
f){return a+c-a*Math.pow((b-d)/b,f)+c},EASEOUT:function(d,c,a,b,f){return a*Math.pow(d/b,f)+c}};var q=function(){q.superclass.constructor.apply(this,arguments);var d=false,c=function(){return!!d},a=this.addAttrs({node:{required:true,setter:function(g){return h(g)}},from:{value:{},validator:c},to:{required:true,validator:c},easing:{value:k.easing.DEFAULT},easingStrength:{value:2,setter:function(g){return Math.abs(g)}},startFrame:{value:0},duration:{value:1E3,setter:function(g){return g=="fast"?500:
g=="slow"?4E3:Lang.isNumber(g)?g:1E3}}}),b=a.get("node");(c=a.get("height"))&&b.height(c);(c=a.get("width"))&&b.height(c);var f=b.currentStyle(),l=0,i,e,n,o;a.play=function(g,p){d=true;l=0;i=a.get("from");e=a.get("to");n=a.get("duration");o={};Hash.each(e,function(j){i[j]=Lang.isNumber(i[j])?i[j]:h.pxToFloat(f[j])});for(var r=a.get("easingStrength"),s=a.get("easing"),m=0;m<=n;m+=p){o[m]={};Hash.each(e,function(j,t){o[m][j]=s(m,i[j],t,n,r)})}return a};a.stop=function(){d=false;return a};a.pause=function(){return a};
a.frame=function(g,p){if(p>n){d=false;a.fire("stop")}d&&b.css(o[p]);return a}};h.extend(q,h.Base);h.add({TimeFrame:k,Tween:q})});
