/*
 Copyright (c) 2010, Juan Ignacio Dopazo. All rights reserved.
 Code licensed under the BSD License
 http://code.google.com/p/jet-js/wiki/Licence
*/
jet().add("io-xdr",function(c){var d=c.IO;if(!jet.IO)jet.IO={};var f=jet.IO.flajax;if(!f){jet.IO.xdrWaitList=[];window.flajaxLoad=function(){jet.IO.xdrReady=true;for(var a=0;a<jet.IO.xdrWaitList.length;a++)d.flajax(jet.IO.xdrWaitList[a]);jet.IO.xdrWaitList=[]};c("<div/>").attr("id","flajax").appendTo(c("#jet-tracker"));c.swfobject.embedSWF("/jet/src/io/flajax.swf","flajax","1","1","9.0.0","expressInstall.swf",{},{},{},function(a){f=jet.IO.flajax=a.ref})}if(!jet.IO.xdrCallbacks)jet.IO.xdrCallbacks=
{};if(!jet.IO.xdrCount)jet.IO.xdrCount=1;d.flajax=function(a){if(jet.IO.xdrReady){a=a||{};var g=a.method||"GET",e=++jet.IO.xdrCount;jet.IO.xdrCallbacks["flajax"+e]=function(b){switch(a.dataType){case "xml":b=d.utils.parseXML(b);break;case "json":b=c.JSON.parse(b);break}a.success&&a.success(b);a.complete&&a.complete(b)};jet.IO.xdrCallbacks["flajax"+e+"Error"]=function(b){a.error&&a.error(b);a.complete&&a.complete(b)};jet.IO.flajax.call(a.url,"jet.IO.xdrCallbacks.flajax"+e,g,a.data)}else jet.IO.xdrWaitList.push(a)}});
