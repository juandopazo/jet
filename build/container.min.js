jet().add("container",function(c){var k=c.Lang,s=c.Hash,r=c.Array,q=!c.UA.ie||c.UA.ie<8,i=function(){i.superclass.constructor.apply(this,arguments);var a=this.set("className","button").addAttrs({type:{writeOnce:true,value:"push"},boundingBox:{readOnly:true,value:c("<span/>")},contentBox:{readOnly:true,value:c("<span/>")}}),h=a.get("type");a.addAttr("buttonNode",{readOnly:true,value:c("<"+(h=="push"?"button":h=="link"?"a":"a")+"/>")});a.on("render",function(){var g=a.get("buttonNode").html(a.get("text")),
d=a.get("classPrefix"),b=a.get("boundingBox").addClass(d+i.NAME,d+h+"-"+i.NAME),f=a.get("contentBox").addClass("first-child");g.on("mouseover",function(){b.addClass(d+i.NAME+"-hover",d+h+i.NAME+"-hover")}).on("mouseout",function(){b.removeClass(d+i.NAME+"-hover",d+h+i.NAME+"-hover")}).on("focus",function(){b.addClass(d+i.NAME+"-focus",d+h+i.NAME+"-focus")}).on("blur",function(){b.removeClass(d+i.NAME+"-focus",d+h+i.NAME+"-focus")}).on("click",function(e){g.getNode().blur();a.fire("pressed")&&e.preventDefault()});
g.appendTo(f.appendTo(b))});a.on("afterRender",function(){a.get("boundingBox").css("visibility","inherit")})};i.NAME="button";c.extend(i,c.Widget,{disable:function(){},enable:function(){},blur:function(){},focus:function(){}});var n=function(){n.superclass.constructor.apply(this,arguments);var a=this,h={},g=function(d){return function(b){var f=h[d];f||(f=c("<div/>"));f.children().remove();k.isString(b)?f.html(b):f.append(b);return h[d]=f}};a.addAttrs({header:{setter:g("header"),validator:k.isValue},
body:{value:"",setter:g("body"),validator:k.isValue},footer:{setter:g("footer"),validator:k.isValue}});a.set("className",n.NAME);a.on("render",function(){var d=a.get("boundingBox");a.get("classPrefix");s.each(h,function(b,f){f.addClass(b).appendTo(d)})})};n.NAME="module";c.extend(n,c.Widget);var o=function(){o.superclass.constructor.apply(this,arguments);var a=this.addAttrs({center:{value:true},fixed:{value:false},width:{value:300,validator:k.isNumber},height:{value:0,validator:k.isNumber},top:{validator:k.isNumber,
setter:function(b){a.unset("bottom");return b}},left:{validator:k.isNumber,setter:function(b){a.unset("right");return b}},bottom:{validator:k.isNumber,setter:function(b){a.unset("top");return b}},right:{validator:k.isNumber,setter:function(b){a.unset("left");return b}}});a.set("className",o.NAME);var h=false;a.on("rendered",function(){h=true});var g=function(b){var f=c.screenSize();b.css({left:(f.width-(h?b.width():a.get("width")))/2+"px",top:(f.height-(h?b.height():a.get("height")))/2+"px"})};r.each(["height",
"width"],function(b){a.on(b+"Change",function(f,e){var j=a.get("boundingBox")[b](e);a.get("center")&&g(j)})});var d=function(b){var f=c(c.context.body).currentStyle();r.each(["left","top","bottom","right"],function(e){var j=e.substr(0,1).toUpperCase()+e.substr(1);j=c.pxToFloat(f["padding"+j])+c.pxToFloat(f["margin"+j]);if(q)b.css(e,a.isSet(e)?a.get(e)-j+"px":"auto");else{var l=c.screenSize();if(e=="bottom")b.css("top",a.isSet(e)?l.height-a.get("height")-j+b.scrollTop()+"px":"auto");else e=="right"?
b.css("left",a.isSet(e)?l.width-a.get("width")-j+b.scrollLeft()+"px":"auto"):b.css(e,a.isSet(e)?a.get(e)-j+"px":"auto")}})};a.on("render",function(){var b=c(c.win),f=a.get("boundingBox"),e=a.get("header");e&&f.append(e);(e=a.get("body"))&&f.append(e);(e=a.get("footer"))&&f.append(e);var j=(e=a.get("fixed"))&&q?"fixed":"absolute",l=a.get("height");f.css("position",j).width(a.get("width"));l&&f.height(l);d(f);if(a.get("center")){g(f);b.on("resize",function(){g(a.get("boundingBox"))});if(e||!q)c(c.win).on("scroll",
function(){g(a.get("boundingBox"))})}else if(e&&!q){b.on("scroll",function(){d(a.get("boundingBox"))});b.on("resize",function(){d(a.get("boundingBox"))})}});a.on("afterRender",function(){if(a.get("draggable"))if(c.DragDrop){var b=a.get("header");a.dd=new c.Drag({node:a.get("boundingBox")});b&&a.dd.addHandler(b)}else throw new Error("The 'draggable' property needs the DragDrop module");})};o.NAME="overlay";c.extend(o,n);var m=function(){m.superclass.constructor.apply(this,arguments);var a=this.set("className",
m.NAME).addAttrs({contentBox:{readOnly:true,value:c("<div/>")},underlay:{readOnly:true,value:c("<div/>").addClass("underlay")},shadow:{value:true}}).on("heightChange",function(g,d){a.get("contentBox").height(d)}),h=c("<a/>").attr("href","#").addClass("container-close").on("click",function(g){a.fire("close")&&a.hide();g.preventDefault()});a.addAttr("close",{value:true,validator:k.isBoolean,setter:function(g){g?h.show():h.hide();return g}}).on("render",function(){var g=a.get("height"),d=a.get("contentBox");
g&&d.height(g);g=a.get("classPrefix");for(var b=a.get("boundingBox").addClass(g+m.NAME+"-container"),f=a.get("header"),e=a.get("body"),j=a.get("footer"),l=m;l.NAME;){d.addClass(g+l.NAME);l=l.superclass.constructor}f&&d.append(f.remove(true));e&&d.append(e.remove(true));j&&d.append(j.remove(true));a.get("close")&&h.appendTo(d);d.appendTo(b).css("visibility","inherit");b.append(a.get("underlay"));a.get("shadow")&&b.addClass("shadow")})};m.NAME="panel";c.extend(m,o);var p=function(){p.superclass.constructor.apply(this,
arguments);var a=this;a.addAttrs({footer:{readOnly:true,value:c("<div/>").addClass("footer")},buttons:{validator:k.isArray,value:[]}}).set("className",p.NAME);a.on("render",function(){a.get("boundingBox").addClass(a.get("classPrefix")+p.NAME);var h=c("<div/>").addClass("button-group");r.each(a.get("buttons"),function(g,d){var b=new i(g);d===0&&b.get("boundingBox").addClass("default");b.on("pressed",function(){a.hide()}).render(h)});a.get("footer").append(h)})};p.NAME="dialog";c.extend(p,m);c.add({Module:n,
Overlay:o,Panel:m,SimpleDialog:p,Button:i})});
