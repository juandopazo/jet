jet().add("container",function(d){var k=d.Lang,v=d.Hash,r=d.Array,u=!d.UA.ie||d.UA.ie<8,i=function(){i.superclass.constructor.apply(this,arguments);var a=this.set("className","button").addAttrs({type:{writeOnce:true,value:"push"},boundingBox:{readOnly:true,value:d("<span/>")},contentBox:{readOnly:true,value:d("<span/>")}}),f=a.get("type");a.addAttr("buttonNode",{readOnly:true,value:d("<"+(f=="push"?"button":f=="link"?"a":"a")+"/>")});a.on("render",function(){var e=a.get("buttonNode").html(a.get("text")),
c=a.get("classPrefix"),b=a.get("boundingBox").addClass(c+i.NAME,c+f+"-"+i.NAME),h=a.get("contentBox").addClass("first-child");e.on("mouseover",function(){b.addClass(c+i.NAME+"-hover",c+f+i.NAME+"-hover")}).on("mouseout",function(){b.removeClass(c+i.NAME+"-hover",c+f+i.NAME+"-hover")}).on("focus",function(){b.addClass(c+i.NAME+"-focus",c+f+i.NAME+"-focus")}).on("blur",function(){b.removeClass(c+i.NAME+"-focus",c+f+i.NAME+"-focus")}).on("click",function(g){e._node.blur();a.fire("pressed")&&g.preventDefault()});
e.appendTo(h.appendTo(b))});a.on("afterRender",function(){a.get("boundingBox").css("visibility","inherit")})};i.NAME="button";d.extend(i,d.Widget,{disable:function(){},enable:function(){},blur:function(){},focus:function(){}});var s=function(a,f,e){var c=d.context,b=c.createElement("select"),h=c.createElement("option"),g=false;try{b.add(h,null);g=true}catch(j){b.add(h)}s=g?function(l,w,t){var n=c.createElement("option");n.text=w;if(t)n.value=t;l.add(n,null)}:function(l,w,t){var n=c.createElement("option");
n.text=w;if(t)n.value=t;l.add(n)};s(a,f,e)},x=function(){x.superclass.constructor.apply(this,arguments);var a=this.addAttrs({options:{value:[]},combo:{readOnly:true,value:d("<select/>")}}),f=function(e,c){r.each(c,function(b){k.isHash(b)?v.each(b,function(h,g){s(e,h,g)}):s(e,b)})};a.on("optionsChange",function(e,c){var b=a.get("combo")._node;b.options.length=0;f(b,c)});f(a.get("combo")._node,a.get("options"));a.on("render",function(){a.get("combo").appendTo(a.get("boundingBox"))})};d.extend(x,d.Widget,
{add:function(a,f){var e;if(f){e={};e[a]=f}else e=a;this.get("options").push(e);s(this.get("combo")._node,a,f);return this},fill:function(a){var f=this;k.isArray(a)?r.each(a,function(e){f.add(e)}):v.each(a,f.add);return f},clear:function(){return this.set("options",[])}});var o=function(){o.superclass.constructor.apply(this,arguments);var a=this,f={},e=function(c){return function(b){var h=f[c];h||(h=d("<div/>"));h.children().remove();k.isString(b)?h.html(b):h.append(b);return f[c]=h}};a.addAttrs({header:{setter:e("header"),
validator:k.isValue},body:{value:"",setter:e("body"),validator:k.isValue},footer:{setter:e("footer"),validator:k.isValue}});a.set("className",o.NAME);a.on("render",function(){var c=a.get("boundingBox");a.get("classPrefix");v.each(f,function(b,h){h.addClass(b).appendTo(c)})})};o.NAME="module";d.extend(o,d.Widget);var p=function(){p.superclass.constructor.apply(this,arguments);var a=this.addAttrs({center:{value:true},fixed:{value:false},width:{value:300,validator:k.isNumber},height:{value:0,validator:k.isNumber},
top:{validator:k.isNumber,setter:function(b){a.unset("bottom");return b}},left:{validator:k.isNumber,setter:function(b){a.unset("right");return b}},bottom:{validator:k.isNumber,setter:function(b){a.unset("top");return b}},right:{validator:k.isNumber,setter:function(b){a.unset("left");return b}}});a.set("className",p.NAME);var f=false;a.on("rendered",function(){f=true});var e=function(b){var h=d.screenSize();b.css({left:(h.width-(f?b.width():a.get("width")))/2+"px",top:(h.height-(f?b.height():a.get("height")))/
2+"px"})};r.each(["height","width"],function(b){a.on(b+"Change",function(h,g){var j=a.get("boundingBox")[b](g);a.get("center")&&e(j)})});var c=function(b){var h=d(d.context.body).currentStyle();r.each(["left","top","bottom","right"],function(g){var j=g.substr(0,1).toUpperCase()+g.substr(1);j=d.pxToFloat(h["padding"+j])+d.pxToFloat(h["margin"+j]);if(u)b.css(g,a.isSet(g)?a.get(g)-j+"px":"auto");else{var l=d.screenSize();if(g=="bottom")b.css("top",a.isSet(g)?l.height-a.get("height")-j+b.scrollTop()+
"px":"auto");else g=="right"?b.css("left",a.isSet(g)?l.width-a.get("width")-j+b.scrollLeft()+"px":"auto"):b.css(g,a.isSet(g)?a.get(g)-j+"px":"auto")}})};a.on("render",function(){var b=d(d.win),h=a.get("boundingBox"),g=a.get("header");g&&h.append(g);(g=a.get("body"))&&h.append(g);(g=a.get("footer"))&&h.append(g);var j=(g=a.get("fixed"))&&u?"fixed":"absolute",l=a.get("height");h.css("position",j).width(a.get("width"));l&&h.height(l);c(h);if(a.get("center")){e(h);b.on("resize",function(){e(a.get("boundingBox"))});
if(g||!u)d(d.win).on("scroll",function(){e(a.get("boundingBox"))})}else if(g&&!u){b.on("scroll",function(){c(a.get("boundingBox"))});b.on("resize",function(){c(a.get("boundingBox"))})}});a.on("afterRender",function(){if(a.get("draggable"))if(d.DragDrop){var b=a.get("header");a.dd=new d.Drag({node:a.get("boundingBox")});b&&a.dd.addHandler(b)}else d.error("The 'draggable' property needs the DragDrop module")})};p.NAME="overlay";d.extend(p,o);var m=function(){m.superclass.constructor.apply(this,arguments);
var a=this.set("className",m.NAME).addAttrs({contentBox:{readOnly:true,value:d("<div/>")},underlay:{readOnly:true,value:d("<div/>").addClass("underlay")},shadow:{value:true}}).on("heightChange",function(e,c){a.get("contentBox").height(c)}),f=d("<a/>").attr("href","#").addClass("container-close").on("click",function(e){a.fire("close")&&a.hide();e.preventDefault()});a.addAttr("close",{value:true,validator:k.isBoolean,setter:function(e){e?f.show():f.hide();return e}}).on("render",function(){var e=a.get("height"),
c=a.get("contentBox");e&&c.height(e);e=a.get("classPrefix");for(var b=a.get("boundingBox").addClass(e+m.NAME+"-container"),h=a.get("header"),g=a.get("body"),j=a.get("footer"),l=m;l.NAME;){c.addClass(e+l.NAME);l=l.superclass.constructor}h&&c.append(h.remove(true));g&&c.append(g.remove(true));j&&c.append(j.remove(true));a.get("close")&&f.appendTo(c);c.appendTo(b).css("visibility","inherit");b.append(a.get("underlay"));a.get("shadow")&&b.addClass("shadow")})};m.NAME="panel";d.extend(m,p);var q=function(){q.superclass.constructor.apply(this,
arguments);var a=this;a.addAttrs({footer:{readOnly:true,value:d("<div/>").addClass("footer")},buttons:{validator:k.isArray,value:[]}}).set("className",q.NAME);a.on("render",function(){a.get("boundingBox").addClass(a.get("classPrefix")+q.NAME);var f=d("<div/>").addClass("button-group");r.each(a.get("buttons"),function(e,c){var b=new i(e);c===0&&b.get("boundingBox").addClass("default");b.on("pressed",function(){a.hide()}).render(f)});a.get("footer").append(f)})};q.NAME="dialog";d.extend(q,m);d.add({Module:o,
Overlay:p,Panel:m,SimpleDialog:q,Button:i,ComboBox:x})});
