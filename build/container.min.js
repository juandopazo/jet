jet().add("container",function(e){var k=e.Lang,v=e.Hash,r=e.Array,u=!e.UA.ie||e.UA.ie<8,i=function(){i.superclass.constructor.apply(this,arguments);var a=this.set("className","button").addAttrs({type:{writeOnce:true,value:"push"},boundingBox:{readOnly:true,value:e("<span/>")},contentBox:{readOnly:true,value:e("<span/>")}}),f=a.get("type");a.addAttr("buttonNode",{readOnly:true,value:e("<"+(f=="push"?"button":f=="link"?"a":"a")+"/>")});a.on("render",function(){var d=a.get("buttonNode").html(a.get("text")),
c=a.get("classPrefix"),b=a.get("boundingBox").addClass(c+i.NAME,c+f+"-"+i.NAME),h=a.get("contentBox").addClass("first-child");d.on("mouseover",function(){b.addClass(c+i.NAME+"-hover",c+f+i.NAME+"-hover")}).on("mouseout",function(){b.removeClass(c+i.NAME+"-hover",c+f+i.NAME+"-hover")}).on("focus",function(){b.addClass(c+i.NAME+"-focus",c+f+i.NAME+"-focus")}).on("blur",function(){b.removeClass(c+i.NAME+"-focus",c+f+i.NAME+"-focus")}).on("click",function(g){d[0].blur();a.fire("pressed")&&g.preventDefault()});
d.appendTo(h.appendTo(b))});a.on("afterRender",function(){a.get("boundingBox").css("visibility","inherit")})};i.NAME="button";e.extend(i,e.Widget,{disable:function(){},enable:function(){},blur:function(){},focus:function(){}});var s=function(a,f,d){var c=e.context,b=c.createElement("select"),h=c.createElement("option"),g=false;try{b.add(h,null);g=true}catch(j){b.add(h)}s=g?function(l,w,t){var n=c.createElement("option");n.text=w;if(t)n.value=t;l.add(n,null)}:function(l,w,t){var n=c.createElement("option");
n.text=w;if(t)n.value=t;l.add(n)};s(a,f,d)},x=function(){x.superclass.constructor.apply(this,arguments);var a=this.addAttrs({options:{value:[]},combo:{readOnly:true,value:e("<select/>")}}),f=function(d,c){r.each(c,function(b){k.isHash(b)?v.each(b,function(h,g){s(d,h,g)}):s(d,b)})};a.on("optionsChange",function(d,c){var b=a.get("combo")[0];b.options.length=0;f(b,c)});f(a.get("combo")[0],a.get("options"));a.on("render",function(){a.get("combo").appendTo(a.get("boundingBox"))})};e.extend(x,e.Widget,
{add:function(a,f){var d;if(f){d={};d[a]=f}else d=a;this.get("options").push(d);s(this.get("combo")[0],a,f);return this},fill:function(a){var f=this;k.isArray(a)?r.each(a,function(d){f.add(d)}):v.each(a,f.add);return f},clear:function(){return this.set("options",[])}});var o=function(){o.superclass.constructor.apply(this,arguments);var a=this,f={},d=function(c){return function(b){var h=f[c];h||(h=e("<div/>"));h.children().remove();k.isString(b)?h.html(b):h.append(b);return f[c]=h}};a.addAttrs({header:{setter:d("header"),
validator:k.isValue},body:{value:"",setter:d("body"),validator:k.isValue},footer:{setter:d("footer"),validator:k.isValue}});a.set("className",o.NAME);a.on("render",function(){var c=a.get("boundingBox");v.each(f,function(b,h){h.addClass(b).appendTo(c)})})};o.NAME="module";e.extend(o,e.Widget);var p=function(){p.superclass.constructor.apply(this,arguments);var a=this.addAttrs({center:{value:true},fixed:{value:false},width:{value:300,validator:k.isNumber},height:{value:0,validator:k.isNumber},top:{validator:k.isNumber,
setter:function(b){a.unset("bottom");return b}},left:{validator:k.isNumber,setter:function(b){a.unset("right");return b}},bottom:{validator:k.isNumber,setter:function(b){a.unset("top");return b}},right:{validator:k.isNumber,setter:function(b){a.unset("left");return b}},draggable:{validator:function(){return!!e.Drag},value:false}});a.set("className",p.NAME);var f=false;a.on("rendered",function(){f=true});var d=function(b){var h=e.screenSize();b.css({left:(h.width-(f?b.width():a.get("width")))/2+"px",
top:(h.height-(f?b.height():a.get("height")))/2+"px"})};r.each(["height","width"],function(b){a.on(b+"Change",function(h,g){var j=a.get("boundingBox")[b](g);a.get("center")&&d(j)})});var c=function(b){var h=e(e.context.body).currentStyle();r.each(["left","top","bottom","right"],function(g){var j=g.substr(0,1).toUpperCase()+g.substr(1);j=e.pxToFloat(h["padding"+j])+e.pxToFloat(h["margin"+j]);if(u)b.css(g,a.isSet(g)?a.get(g)-j+"px":"auto");else{var l=e.screenSize();if(g=="bottom")b.css("top",a.isSet(g)?
l.height-a.get("height")-j+b.scrollTop()+"px":"auto");else g=="right"?b.css("left",a.isSet(g)?l.width-a.get("width")-j+b.scrollLeft()+"px":"auto"):b.css(g,a.isSet(g)?a.get(g)-j+"px":"auto")}})};a.on("render",function(){var b=e(e.win),h=a.get("boundingBox"),g=a.get("header");g&&h.append(g);(g=a.get("body"))&&h.append(g);(g=a.get("footer"))&&h.append(g);var j=(g=a.get("fixed"))&&u?"fixed":"absolute",l=a.get("height");h.css("position",j).width(a.get("width"));l&&h.height(l);c(h);if(a.get("center")){d(h);
b.on("resize",function(){d(a.get("boundingBox"))});if(g||!u)e(e.win).on("scroll",function(){d(a.get("boundingBox"))})}else if(g&&!u){b.on("scroll",function(){c(a.get("boundingBox"))});b.on("resize",function(){c(a.get("boundingBox"))})}});a.on("afterRender",function(){if(a.get("draggable")){var b=a.get("header");a.dd=new e.Drag({node:a.get("boundingBox")});b&&a.dd.addHandler(b)}})};p.NAME="overlay";e.extend(p,o);var m=function(){m.superclass.constructor.apply(this,arguments);var a=this.set("className",
m.NAME).addAttrs({contentBox:{readOnly:true,value:e("<div/>")},underlay:{readOnly:true,value:e("<div/>").addClass("underlay")},shadow:{value:true}}).on("heightChange",function(d,c){a.get("contentBox").height(c)}),f=e("<a/>").attr("href","#").addClass("container-close").on("click",function(d){a.fire("close")&&a.hide();d.preventDefault()});a.addAttr("close",{value:true,validator:k.isBoolean,setter:function(d){d?f.show():f.hide();return d}}).on("render",function(){var d=a.get("height"),c=a.get("contentBox");
d&&c.height(d);d=a.get("classPrefix");for(var b=a.get("boundingBox").addClass(d+m.NAME+"-container"),h=a.get("header"),g=a.get("body"),j=a.get("footer"),l=m;l.NAME;){c.addClass(d+l.NAME);l=l.superclass.constructor}h&&c.append(h.remove(true));g&&c.append(g.remove(true));j&&c.append(j.remove(true));a.get("close")&&f.appendTo(c);c.appendTo(b).css("visibility","inherit");b.append(a.get("underlay"));a.get("shadow")&&b.addClass("shadow")})};m.NAME="panel";e.extend(m,p);var q=function(){q.superclass.constructor.apply(this,
arguments);var a=this;a.addAttrs({footer:{readOnly:true,value:e("<div/>").addClass("footer")},buttons:{validator:k.isArray,value:[]}}).set("className",q.NAME);a.on("render",function(){a.get("boundingBox").addClass(a.get("classPrefix")+q.NAME);var f=e("<div/>").addClass("button-group");r.each(a.get("buttons"),function(d,c){var b=new i(d);c===0&&b.get("boundingBox").addClass("default");b.on("pressed",function(){a.hide()}).render(f)});a.get("footer").append(f)})};q.NAME="dialog";e.extend(q,m);e.add({Module:o,
Overlay:p,Panel:m,SimpleDialog:q,Button:i,ComboBox:x})});
