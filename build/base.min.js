jet().add("base",function(h){var m=h.Hash,j=h.Lang,n=h.extend,u=function(b,c,e){if(j.isFunction(c))c=new c;var g=function(i,a){if((!b.prototype[i]||e)&&i!="constructor")b.prototype[i]=a};m.each(c,g);c.constructor!=Object&&m.each(c.prototype,g)},v=function(){var b={},c=this;c.on=function(e,g){b[e]||(b[e]=[]);j.isObject(g)&&b[e].push(g);return this};c.unbind=function(e,g){h.Array.remove(g,b[e]||[]);return this};c.fire=function(e){var g=b[e]||[],i=true;if(b["*"])g=g.concat(b["*"]);var a,d=g.length,f=
false,k=Array.prototype.slice.call(arguments,1);k.unshift({stopPropagation:function(){f=true},preventDefault:function(){i=false},type:e,target:c});for(a=0;a<d;a++){if(j.isFunction(g[a]))g[a].apply(c,k);else j.isObject(g[a])&&g[a].handleEvent&&g[a].handleEvent.apply(g[a],k);if(f)break}return this};c.unbindAll=function(){b={};return this}},s=function(b){b=b||{};var c=this,e={},g=function(a,d){e[a]=d;var f=j.isValue(b[a]);d.required&&d.readOnly&&h.error("You can't have both 'required' and 'readOnly'");
d.readOnly&&f&&delete b[a];d.required&&!f&&h.error("Missing required attribute: "+a);if(f&&d.setter)b[a]=d.setter.call(c,b[a]);return c},i=function(a,d){e[a]=e[a]||{};var f=e[a];if(f.readOnly)h.error(a+" is a "+(f.writeOnce?"write-once":"read-only")+" attribute");else{if(!f.validator||f.validator(d)){d=f.setter?f.setter.call(c,d):d;if(!j.isValue(b[a])&&f.value)b[a]=f.value;b[a]=b[a]==d?d:c.fire(a+"Change",d)?d:b[a]}if(f.writeOnce&&!f.readOnly)e[a].readOnly=true}};c.get=function(a){e[a]=e[a]||{};var d=
e[a];if(d.writeOnce&&!d.readOnly)e[a].readOnly=true;if(!j.isValue(b[a]))b[a]=d.value;return d.getter?d.getter.call(c,b[a],a):b[a]};c.set=function(a,d){j.isHash(a)?m.each(a,function(f,k){i(f,k)}):i(a,d);return c};c.unset=function(a){delete b[a];return c};c.addAttr=g;c.addAttrs=function(a){m.each(a,g);return c};c.getAttrs=function(){var a={};m.each(b,function(d){a[d]=c.get(d)});return a};c.isSet=function(a){return j.isValue(b[a])}};u(s,v);var o=function(){o.superclass.constructor.apply(this,arguments);
var b=this.addAttr("on",{writeOnce:true,value:{}});m.each(b.get("on"),function(c,e){b.on(c,e)})};n(o,s);var q=function(){q.superclass.constructor.apply(this,arguments);var b=this;h(h.win).on("unload",function(){b.destroy()})};n(q,o,{destroy:function(){var b=this;b.fire("destroy")&&m.each(b,function(c){delete b[c]})}});var p=function(){p.superclass.constructor.apply(this,arguments);var b=this.addAttrs({srcNode:{setter:h},classPrefix:{value:p.CSS_PREFIX+"-"},className:{value:"widget"},rendered:{writeOnce:true,
value:false}}).addAttr("boundingBox",{readOnly:true,value:h("<div/>")});h(h.win).on("unload",function(){b.destroy()})};n(p,o,{hide:function(){this.fire("hide")&&this.get("boundingBox").css("visibility","hidden");return this},show:function(){this.fire("show")&&this.get("boundingBox").css("visibility","visible");return this},render:function(b){b&&this.set("srcNode",b);if(this.fire("render")){b=this.get("srcNode");this.get("boundingBox").addClass(this.get("classPrefix")+this.get("className")+"-container").appendTo(b).css("visibility",
"visible");this.set("rendered",true);this.fire("afterRender")}return this},destroy:function(){var b=this;if(b.fire("destroy")){b.get("boundingBox").unbindAll(true).remove();m.each(b,function(c){delete b[c]})}}});p.CSS_PREFIX="yui";var t=function(){t.superclass.constructor.apply(this,arguments);var b=this.addAttr("frequency",{value:20}),c,e,g,i=false,a=new h.NodeList([]),d;b.addAttr("tracking",{value:false,validator:j.isBoolean}).on("trackingChange",function(f,k){if(k){if(b.get("shim")){a.splice(0,
a.length);d=h("iframe").each(function(r){var l=r.offset();a.push(h("<div/>").height(l.height).width(l.width).css({position:"absolute",left:l.left,top:l.top}).hide().appendTo(r.parent())[0])})}if(!i){a.show();g=setInterval(function(){b.fire("mousemove",c,e)},b.get("frequency"));i=true}}else{a.hide();clearInterval(g);i=false}});h(h.context).on("selectstart",function(f){i&&f.preventDefault()});a.link(h(h.context),true).on("mousemove",function(f){c=f.clientX;e=f.clientY;b.get("tracking")&&b.get("shim")&&
d.each(function(k,r){var l=k.offset();a[r].height(l.height).width(l.width).css({left:l.left+"px",top:l.top+"px"})})}).on("mouseup",function(){b.set("tracking",false).fire("up",c,e)});b.on("destroy",function(){a.unbindAll()})};n(t,q,{down:function(){return this.set("tracking",true)},up:function(){return this.set("tracking",false)}});h.utils.Mouse=t;h.add({Attribute:s,Base:o,Utility:q,Widget:p,EventTarget:v,augment:u,extend:n})});
