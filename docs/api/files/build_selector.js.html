<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>build\selector.js - Jet</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Jet"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/$.html">$</a></li>
            
                <li><a href="..&#x2F;classes/Button.html">Button</a></li>
            
                <li><a href="..&#x2F;classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="..&#x2F;classes/CheckBox.html">CheckBox</a></li>
            
                <li><a href="..&#x2F;classes/Cookie.html">Cookie</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.html">DataSource</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Ajax.html">DataSource.Ajax</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Get.html">DataSource.Get</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Local.html">DataSource.Local</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.XDR.html">DataSource.XDR</a></li>
            
                <li><a href="..&#x2F;classes/Escape.html">Escape</a></li>
            
                <li><a href="..&#x2F;classes/FieldSet.html">FieldSet</a></li>
            
                <li><a href="..&#x2F;classes/Form.html">Form</a></li>
            
                <li><a href="..&#x2F;classes/FormField.html">FormField</a></li>
            
                <li><a href="..&#x2F;classes/IO.html">IO</a></li>
            
                <li><a href="..&#x2F;classes/JSON.html">JSON</a></li>
            
                <li><a href="..&#x2F;classes/Layout.html">Layout</a></li>
            
                <li><a href="..&#x2F;classes/LayoutPanel.html">LayoutPanel</a></li>
            
                <li><a href="..&#x2F;classes/LayoutPanelBase.html">LayoutPanelBase</a></li>
            
                <li><a href="..&#x2F;classes/Log.html">Log</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.html">Paginator</a></li>
            
                <li><a href="..&#x2F;classes/ProgressBar.html">ProgressBar</a></li>
            
                <li><a href="..&#x2F;classes/Promise.html">Promise</a></li>
            
                <li><a href="..&#x2F;classes/RadioButton.html">RadioButton</a></li>
            
                <li><a href="..&#x2F;classes/RadioGroup.html">RadioGroup</a></li>
            
                <li><a href="..&#x2F;classes/Record.html">Record</a></li>
            
                <li><a href="..&#x2F;classes/RecordSet.html">RecordSet</a></li>
            
                <li><a href="..&#x2F;classes/SelectField.html">SelectField</a></li>
            
                <li><a href="..&#x2F;classes/SWF.html">SWF</a></li>
            
                <li><a href="..&#x2F;classes/ToggleButton.html">ToggleButton</a></li>
            
                <li><a href="..&#x2F;classes/TreeNode.html">TreeNode</a></li>
            
                <li><a href="..&#x2F;classes/TreeView.html">TreeView</a></li>
            
                <li><a href="..&#x2F;classes/WidgetChild.html">WidgetChild</a></li>
            
                <li><a href="..&#x2F;classes/WidgetParent.html">WidgetParent</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/array-extras.html">array-extras</a></li>
            
                <li><a href="..&#x2F;modules/button.html">button</a></li>
            
                <li><a href="..&#x2F;modules/cookie.html">cookie</a></li>
            
                <li><a href="..&#x2F;modules/datasource.html">datasource</a></li>
            
                <li><a href="..&#x2F;modules/deferred.html">deferred</a></li>
            
                <li><a href="..&#x2F;modules/escape.html">escape</a></li>
            
                <li><a href="..&#x2F;modules/form.html">form</a></li>
            
                <li><a href="..&#x2F;modules/io.html">io</a></li>
            
                <li><a href="..&#x2F;modules/io-xdr.html">io-xdr</a></li>
            
                <li><a href="..&#x2F;modules/json.html">json</a></li>
            
                <li><a href="..&#x2F;modules/layout.html">layout</a></li>
            
                <li><a href="..&#x2F;modules/log.html">log</a></li>
            
                <li><a href="..&#x2F;modules/menu.html">menu</a></li>
            
                <li><a href="..&#x2F;modules/node-deferred.html">node-deferred</a></li>
            
                <li><a href="..&#x2F;modules/paginator.html">paginator</a></li>
            
                <li><a href="..&#x2F;modules/progressbar.html">progressbar</a></li>
            
                <li><a href="..&#x2F;modules/selector.html">selector</a></li>
            
                <li><a href="..&#x2F;modules/swf.html">swf</a></li>
            
                <li><a href="..&#x2F;modules/touch.html">touch</a></li>
            
                <li><a href="..&#x2F;modules/treeview.html">treeview</a></li>
            
                <li><a href="..&#x2F;modules/widget-form.html">widget-form</a></li>
            
                <li><a href="..&#x2F;modules/widget-parentchild.html">widget-parentchild</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: build\selector.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * Small selector engine powered by Qwery
 * @module selector
 * @requires 
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https:&#x2F;&#x2F;github.com&#x2F;juandopazo&#x2F;jet&#x2F;blob&#x2F;master&#x2F;LICENSE.md
*&#x2F;
jet.add(&#x27;selector&#x27;, function ($) {
&quot;use strict&quot;;

			&#x2F;*!
  * Qwery - A Blazing Fast query selector engine
  * https:&#x2F;&#x2F;github.com&#x2F;ded&#x2F;qwery
  * copyright Dustin Diaz &amp; Jacob Thornton 2011
  * MIT License
  *&#x2F;

!function (context, doc) {

  var c, i, j, k, l, m, o, p, r, v,
      el, node, len, found, classes, item, items, token,
      html = doc.documentElement,
      id = &#x2F;#([\w\-]+)&#x2F;,
      clas = &#x2F;\.[\w\-]+&#x2F;g,
      idOnly = &#x2F;^#([\w\-]+$)&#x2F;,
      classOnly = &#x2F;^\.([\w\-]+)$&#x2F;,
      tagOnly = &#x2F;^([\w\-]+)$&#x2F;,
      tagAndOrClass = &#x2F;^([\w]+)?\.([\w\-]+)$&#x2F;,
      normalizr = &#x2F;\s*([\s\+\~&gt;])\s*&#x2F;g,
      splitters = &#x2F;[\s\&gt;\+\~]&#x2F;,
      splittersMore = &#x2F;(?![\s\w\-\&#x2F;\?\&amp;\=\:\.\(\)\!,@#%&lt;&gt;\{\}\$\*\^&#x27;&quot;]*\])&#x2F;,
      dividers = new RegExp(&#x27;(&#x27; + splitters.source + &#x27;)&#x27; + splittersMore.source, &#x27;g&#x27;),
      tokenizr = new RegExp(splitters.source + splittersMore.source),
      specialChars = &#x2F;([.*+?\^=!:${}()|\[\]\&#x2F;\\])&#x2F;g,
      simple = &#x2F;^([a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)&#x2F;,
      attr = &#x2F;\[([\w\-]+)(?:([\|\^\$\*\~]?\=)[&#x27;&quot;]?([ \w\-\&#x2F;\?\&amp;\=\:\.\(\)\!,@#%&lt;&gt;\{\}\$\*\^]+)[&quot;&#x27;]?)?\]&#x2F;,
      pseudo = &#x2F;:([\w\-]+)(\([&#x27;&quot;]?(\w+)[&#x27;&quot;]?\))?&#x2F;,
      chunker = new RegExp(simple.source + &#x27;(&#x27; + attr.source + &#x27;)?&#x27; + &#x27;(&#x27; + pseudo.source + &#x27;)?&#x27;),
      walker = {
    &#x27; &#x27;: function (node) {
      return node &amp;&amp; node !== html &amp;&amp; node.parentNode
    },
    &#x27;&gt;&#x27;: function (node, contestant) {
      return node &amp;&amp; node.parentNode == contestant.parentNode &amp;&amp; node.parentNode;
    },
    &#x27;~&#x27;: function (node) {
      return node &amp;&amp; node.previousSibling;
    },
    &#x27;+&#x27;: function (node, contestant, p1, p2) {
      if (!node) {
        return false;
      }
      p1 = previous(node);
      p2 = previous(contestant);
      return p1 &amp;&amp; p2 &amp;&amp; p1 == p2 &amp;&amp; p1;
    }
  };
  function cache() {
    this.c = {};
  }
  cache.prototype = {
    g: function (k) {
      return this.c[k] || undefined;
    },
    s: function (k, v) {
      this.c[k] = v;
      return v;
    }
  };

  var classCache = new cache(),
      cleanCache = new cache(),
      attrCache = new cache(),
      tokenCache = new cache();

  function array(ar) {
    r = [];
    for (i = 0, len = ar.length; i &lt; len; i++) {
      r[i] = ar[i];
    }
    return r;
  }

  function previous(n) {
    while (n = n.previousSibling) {
      if (n.nodeType == 1) {
        break;
      }
    }
    return n
  }

  function q(query) {
    return query.match(chunker);
  }

  &#x2F;&#x2F; this next method expect at most these args
  &#x2F;&#x2F; given =&gt; div.hello[title=&quot;world&quot;]:foo(&#x27;bar&#x27;)

  &#x2F;&#x2F; div.hello[title=&quot;world&quot;]:foo(&#x27;bar&#x27;), div, .hello, [title=&quot;world&quot;], title, =, world, :foo(&#x27;bar&#x27;), foo, (&#x27;bar&#x27;), bar]

  function interpret(whole, tag, idsAndClasses, wholeAttribute, attribute, qualifier, value, wholePseudo, pseudo, wholePseudoVal, pseudoVal) {
    var m, c, k;
    if (tag &amp;&amp; this.tagName.toLowerCase() !== tag) {
      return false;
    }
    if (idsAndClasses &amp;&amp; (m = idsAndClasses.match(id)) &amp;&amp; m[1] !== this.id) {
      return false;
    }
    if (idsAndClasses &amp;&amp; (classes = idsAndClasses.match(clas))) {
      for (i = classes.length; i--;) {
        c = classes[i].slice(1);
        if (!(classCache.g(c) || classCache.s(c, new RegExp(&#x27;(^|\\s+)&#x27; + c + &#x27;(\\s+|$)&#x27;))).test(this.className)) {
          return false;
        }
      }
    }
    if (pseudo &amp;&amp; qwery.pseudos[pseudo] &amp;&amp; !qwery.pseudos[pseudo](this, pseudoVal)) {
      return false;
    }
    if (wholeAttribute &amp;&amp; !value) {
      o = this.attributes;
      for (k in o) {
        if (Object.prototype.hasOwnProperty.call(o, k) &amp;&amp; (o[k].name || k) == attribute) {
          return this;
        }
      }
    }
    if (wholeAttribute &amp;&amp; !checkAttr(qualifier, this.getAttribute(attribute) || &#x27;&#x27;, value)) {
      return false;
    }
    return this;
  }

  function clean(s) {
    return cleanCache.g(s) || cleanCache.s(s, s.replace(specialChars, &#x27;\\$1&#x27;));
  }

  function checkAttr(qualify, actual, val) {
    switch (qualify) {
    case &#x27;=&#x27;:
      return actual == val;
    case &#x27;^=&#x27;:
      return actual.match(attrCache.g(&#x27;^=&#x27; + val) || attrCache.s(&#x27;^=&#x27; + val, new RegExp(&#x27;^&#x27; + clean(val))));
    case &#x27;$=&#x27;:
      return actual.match(attrCache.g(&#x27;$=&#x27; + val) || attrCache.s(&#x27;$=&#x27; + val, new RegExp(clean(val) + &#x27;$&#x27;)));
    case &#x27;*=&#x27;:
      return actual.match(attrCache.g(val) || attrCache.s(val, new RegExp(clean(val))));
    case &#x27;~=&#x27;:
      return actual.match(attrCache.g(&#x27;~=&#x27; + val) || attrCache.s(&#x27;~=&#x27; + val, new RegExp(&#x27;(?:^|\\s+)&#x27; + clean(val) + &#x27;(?:\\s+|$)&#x27;)));
    case &#x27;|=&#x27;:
      return actual.match(attrCache.g(&#x27;|=&#x27; + val) || attrCache.s(&#x27;|=&#x27; + val, new RegExp(&#x27;^&#x27; + clean(val) + &#x27;(-|$)&#x27;)));
    }
    return 0;
  }

  function _qwery(selector) {
    var r = [], ret = [], i, j = 0, k, l, m, p, token, tag, els, root, intr, item, children,
        tokens = tokenCache.g(selector) || tokenCache.s(selector, selector.split(tokenizr)),
        dividedTokens = selector.match(dividers), dividedToken;
    tokens = tokens.slice(0); &#x2F;&#x2F; this makes a copy of the array so the cached original is not effected
    if (!tokens.length) {
      return r;
    }

    token = tokens.pop();
    root = tokens.length &amp;&amp; (m = tokens[tokens.length - 1].match(idOnly)) ? doc.getElementById(m[1]) : doc;
    if (!root) {
      return r;
    }
    intr = q(token);
    els = dividedTokens &amp;&amp; &#x2F;^[+~]$&#x2F;.test(dividedTokens[dividedTokens.length - 1]) ? function (r) {
        while (root = root.nextSibling) {
          root.nodeType == 1 &amp;&amp; (intr[1] ? intr[1] == root.tagName.toLowerCase() : 1) &amp;&amp; r.push(root)
        }
        return r
      }([]) :
      root.getElementsByTagName(intr[1] || &#x27;*&#x27;);
    for (i = 0, l = els.length; i &lt; l; i++) {
      if (item = interpret.apply(els[i], intr)) {
        r[j++] = item;
      }
    }
    if (!tokens.length) {
      return r;
    }

    &#x2F;&#x2F; loop through all descendent tokens
    for (j = 0, l = r.length, k = 0; j &lt; l; j++) {
      p = r[j];
      &#x2F;&#x2F; loop through each token backwards crawling up tree
      for (i = tokens.length; i--;) {
        &#x2F;&#x2F; loop through parent nodes
        while (p = walker[dividedTokens[i]](p, r[j])) {
          if (found = interpret.apply(p, q(tokens[i]))) {
            break;
          }
        }
      }
      found &amp;&amp; (ret[k++] = r[j]);
    }
    return ret;
  }

  function boilerPlate(selector, _root, fn) {
    var root = (typeof _root == &#x27;string&#x27;) ? fn(_root)[0] : (_root || doc);
    if (selector === window || isNode(selector)) {
      return !_root || (selector !== window &amp;&amp; isNode(root) &amp;&amp; isAncestor(selector, root)) ? [selector] : [];
    }
    if (selector &amp;&amp; typeof selector === &#x27;object&#x27; &amp;&amp; isFinite(selector.length)) {
      return array(selector);
    }
    if (m = selector.match(idOnly)) {
      return (el = doc.getElementById(m[1])) ? [el] : [];
    }
    if (m = selector.match(tagOnly)) {
      return array(root.getElementsByTagName(m[1]));
    }
    return false;
  }

  function isNode(el) {
    return (el &amp;&amp; el.nodeType &amp;&amp; (el.nodeType == 1 || el.nodeType == 9));
  }

  function uniq(ar) {
    var a = [], i, j;
    label:
    for (i = 0; i &lt; ar.length; i++) {
      for (j = 0; j &lt; a.length; j++) {
        if (a[j] == ar[i]) {
          continue label;
        }
      }
      a[a.length] = ar[i];
    }
    return a;
  }

  function qwery(selector, _root) {
    var root = (typeof _root == &#x27;string&#x27;) ? qwery(_root)[0] : (_root || doc);
    if (!root || !selector) {
      return [];
    }
    if (m = boilerPlate(selector, _root, qwery)) {
      return m;
    }
    return select(selector, root);
  }

  var isAncestor = &#x27;compareDocumentPosition&#x27; in html ?
    function (element, container) {
      return (container.compareDocumentPosition(element) &amp; 16) == 16;
    } : &#x27;contains&#x27; in html ?
    function (element, container) {
      container = container == doc || container == window ? html : container;
      return container !== element &amp;&amp; container.contains(element);
    } :
    function (element, container) {
      while (element = element.parentNode) {
        if (element === container) {
          return 1;
        }
      }
      return 0;
    },

  select = (doc.querySelector &amp;&amp; doc.querySelectorAll) ?
    function (selector, root) {
      if (doc.getElementsByClassName &amp;&amp; (m = selector.match(classOnly))) {
        return array((root).getElementsByClassName(m[1]));
      }
      return array((root).querySelectorAll(selector));
    } :
    function (selector, root) {
      selector = selector.replace(normalizr, &#x27;$1&#x27;);
      var result = [], collection, collections = [], i;
      if (m = selector.match(tagAndOrClass)) {
        items = root.getElementsByTagName(m[1] || &#x27;*&#x27;);
        r = classCache.g(m[2]) || classCache.s(m[2], new RegExp(&#x27;(^|\\s+)&#x27; + m[2] + &#x27;(\\s+|$)&#x27;));
        for (i = 0, l = items.length, j = 0; i &lt; l; i++) {
          r.test(items[i].className) &amp;&amp; (result[j++] = items[i]);
        }
        return result;
      }
      for (i = 0, items = selector.split(&#x27;,&#x27;), l = items.length; i &lt; l; i++) {
        collections[i] = _qwery(items[i]);
      }
      for (i = 0, l = collections.length; i &lt; l &amp;&amp; (collection = collections[i]); i++) {
        var ret = collection;
        if (root !== doc) {
          ret = [];
          for (j = 0, m = collection.length; j &lt; m &amp;&amp; (element = collection[j]); j++) {
            &#x2F;&#x2F; make sure element is a descendent of root
            isAncestor(element, root) &amp;&amp; ret.push(element);
          }
        }
        result = result.concat(ret);
      }
      return uniq(result);
    };

  qwery.uniq = uniq;
  qwery.pseudos = {};

  var oldQwery = context.qwery;
  qwery.noConflict = function () {
    context.qwery = oldQwery;
    return this;
  };
  context[&#x27;qwery&#x27;] = qwery;

}(this, document);
var qwery = $.qwery;

delete $.qwery;

$.find = function (query, root) {
	root = root || $.config.doc;
	if (root.getDOMNode) {
		root = root.getDOMNode();
	}
	var test, node = null, id;
	if (query.charAt(0) === &#x27;&lt;&#x27; &amp;&amp; query.charAt(query.length - 1) === &#x27;&gt;&#x27;) {
		if (query.match(&#x2F;&lt;&#x2F;g).length === 1) {
			&#x2F;&#x2F; suport for &#x27;&lt;div&#x2F;&gt;&#x27; and &#x27;&lt;div&gt;&#x27;
			return root.createElement(query.substr(1, query.length - (query.charAt(query.length - 2) === &#x27;&#x2F;&#x27; ? 3 : 2)));
		} else {
			&#x2F;&#x2F; Check for strings like &quot;&lt;div&gt;&lt;span&gt;&lt;a&#x2F;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;div&gt;&quot;
			test = query.match(&#x2F;&lt;([a-z]+)&gt;(.+)&lt;\&#x2F;([a-z]+)&gt;&#x2F;i);
			if (test.length == 4 &amp;&amp; test[1] == test[3]) {
				node = root.createElement(test[1]);
				node.innerHTML = test[2];
			}
			return node;
		}
	} else {
		if (query.charAt(0) === &#x27;&gt;&#x27;) {
			id = root.id;
			if (!id) {
				root.id = id = $.guid();
			}
			query = &#x27;#&#x27; + id + &#x27; &#x27; + query;
		}
		return qwery(query, root);
	}
};
			
});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
