<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>build\progressbar.js - Jet</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Jet"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/$.html">$</a></li>
            
                <li><a href="..&#x2F;classes/Button.html">Button</a></li>
            
                <li><a href="..&#x2F;classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="..&#x2F;classes/CheckBox.html">CheckBox</a></li>
            
                <li><a href="..&#x2F;classes/Cookie.html">Cookie</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.html">DataSource</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Ajax.html">DataSource.Ajax</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Get.html">DataSource.Get</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Local.html">DataSource.Local</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.XDR.html">DataSource.XDR</a></li>
            
                <li><a href="..&#x2F;classes/Escape.html">Escape</a></li>
            
                <li><a href="..&#x2F;classes/FieldSet.html">FieldSet</a></li>
            
                <li><a href="..&#x2F;classes/Form.html">Form</a></li>
            
                <li><a href="..&#x2F;classes/FormField.html">FormField</a></li>
            
                <li><a href="..&#x2F;classes/IO.html">IO</a></li>
            
                <li><a href="..&#x2F;classes/JSON.html">JSON</a></li>
            
                <li><a href="..&#x2F;classes/Layout.html">Layout</a></li>
            
                <li><a href="..&#x2F;classes/LayoutPanel.html">LayoutPanel</a></li>
            
                <li><a href="..&#x2F;classes/LayoutPanelBase.html">LayoutPanelBase</a></li>
            
                <li><a href="..&#x2F;classes/Log.html">Log</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.html">Paginator</a></li>
            
                <li><a href="..&#x2F;classes/ProgressBar.html">ProgressBar</a></li>
            
                <li><a href="..&#x2F;classes/Promise.html">Promise</a></li>
            
                <li><a href="..&#x2F;classes/RadioButton.html">RadioButton</a></li>
            
                <li><a href="..&#x2F;classes/RadioGroup.html">RadioGroup</a></li>
            
                <li><a href="..&#x2F;classes/Record.html">Record</a></li>
            
                <li><a href="..&#x2F;classes/RecordSet.html">RecordSet</a></li>
            
                <li><a href="..&#x2F;classes/SelectField.html">SelectField</a></li>
            
                <li><a href="..&#x2F;classes/SWF.html">SWF</a></li>
            
                <li><a href="..&#x2F;classes/ToggleButton.html">ToggleButton</a></li>
            
                <li><a href="..&#x2F;classes/TreeNode.html">TreeNode</a></li>
            
                <li><a href="..&#x2F;classes/TreeView.html">TreeView</a></li>
            
                <li><a href="..&#x2F;classes/WidgetChild.html">WidgetChild</a></li>
            
                <li><a href="..&#x2F;classes/WidgetParent.html">WidgetParent</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/array-extras.html">array-extras</a></li>
            
                <li><a href="..&#x2F;modules/button.html">button</a></li>
            
                <li><a href="..&#x2F;modules/cookie.html">cookie</a></li>
            
                <li><a href="..&#x2F;modules/datasource.html">datasource</a></li>
            
                <li><a href="..&#x2F;modules/deferred.html">deferred</a></li>
            
                <li><a href="..&#x2F;modules/escape.html">escape</a></li>
            
                <li><a href="..&#x2F;modules/form.html">form</a></li>
            
                <li><a href="..&#x2F;modules/io.html">io</a></li>
            
                <li><a href="..&#x2F;modules/io-xdr.html">io-xdr</a></li>
            
                <li><a href="..&#x2F;modules/json.html">json</a></li>
            
                <li><a href="..&#x2F;modules/layout.html">layout</a></li>
            
                <li><a href="..&#x2F;modules/log.html">log</a></li>
            
                <li><a href="..&#x2F;modules/menu.html">menu</a></li>
            
                <li><a href="..&#x2F;modules/node-deferred.html">node-deferred</a></li>
            
                <li><a href="..&#x2F;modules/paginator.html">paginator</a></li>
            
                <li><a href="..&#x2F;modules/progressbar.html">progressbar</a></li>
            
                <li><a href="..&#x2F;modules/selector.html">selector</a></li>
            
                <li><a href="..&#x2F;modules/swf.html">swf</a></li>
            
                <li><a href="..&#x2F;modules/touch.html">touch</a></li>
            
                <li><a href="..&#x2F;modules/treeview.html">treeview</a></li>
            
                <li><a href="..&#x2F;modules/widget-form.html">widget-form</a></li>
            
                <li><a href="..&#x2F;modules/widget-parentchild.html">widget-parentchild</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: build\progressbar.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * A progressbar for informing the user of the status of loading resources. Other uses include equalizers, ratings, etc
 * @module progressbar
 * @requires base
 * 
 * Copyright (c) 2012, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https:&#x2F;&#x2F;github.com&#x2F;juandopazo&#x2F;jet&#x2F;blob&#x2F;master&#x2F;LICENSE.md
*&#x2F;
jet.add(&#x27;progressbar&#x27;, function ($) {
&quot;use strict&quot;;

			
var CONTENT_BOX = &#x27;contentBox&#x27;,
	BOUNDING_BOX = &#x27;boundingBox&#x27;,
	WIDTH = &#x27;width&#x27;,
	HEIGHT = &#x27;height&#x27;,
	BAR = &#x27;bar&#x27;,
	PROGRESS = &#x27;progress&#x27;,
	END = &#x27;end&#x27;;
	
var A = $.Array;

&#x2F;**
 * A progressbar for informing the user of the status of loading resources.
 * Other uses include equalizers, ratings, etc
 * @class ProgressBar 
 * @param {Object} config Object literal specifying configuration properties
 *&#x2F;
$.ProgressBar = $.Base.create(&#x27;progressbar&#x27;, $.Widget, [], {
	
	ATTRS: {
		&#x2F;**
		 * @attribute minMvalue
		 * @description Minimum value that the progressbar data will take
		 * @default 0
		 *&#x2F;
		minValue: {
			value: 0
		},
		&#x2F;**
		 * @attribute maxMvalue
		 * @description Maximum value that the progressbar data will take
		 * @default 100
		 *&#x2F;
		maxValue: {
			value: 100
		},
		&#x2F;**
		 * @attribute value
		 * @description Current value the progressbar is taking
		 * @default 0
		 *&#x2F;
		value: {
			value: 0
		},
		width: {
			value: 200
		},
		height: {
			value: 20
		},
		&#x2F;**
		 * @attribute direction
		 * @description Direction in which the progressbar increases its size. May be &#x27;ltr&#x27;, &#x27;ttb&#x27; or &#x27;btt&#x27;
		 * @default &#x27;ltr&#x27;
		 * @writeOnce
		 *&#x2F;
		direction: {
			value: &#x27;ltr&#x27;,
			writeOnce: true
		},
		&#x2F;**
		 * @attribute animate
		 * @description Whether to animate the progressbar progress. The Anim module must be present
		 * @default false
		 * @writeOnce
		 *&#x2F;
		animate: {
			value: false,
			writeOnce: true,
			validator: function () {
				return !!$.Tween;
			}
		},
		&#x2F;**
		 * @attribute easing
		 * @description Easing to use when animating
		 * @default linear
		 *&#x2F;
		easing: {
		},
		&#x2F;**
		 * @attribute duration
		 * @description Duration of the animation in case it is being used
		 * @default 500 ms
		 *&#x2F;
		duration: {
			value: 500
		},
		&#x2F;**
		 * @attribute bar
		 * @description The DOM element that represents the bar in the progressbar
		 * @readOnly
		 *&#x2F;
		bar: {
			readOnly: true,
			value: $(&#x27;&lt;span&#x2F;&gt;&#x27;)
		}
	}
	
}, {
	
	_afterValueChange: function (e) {
		if (this.fire(PROGRESS, { value: e.newVal })) {
			this._update(e.newVal);
			if (e.newVal == this.get(&quot;maxValue&quot;)) {
				this.fire(&quot;complete&quot;);
			}
		} else {
			e.preventDefault();
		}
	},
	
	_afterDirectionChange: function (e) {
		this.get(BOUNDING_BOX).removeClass(this.getClassName(e.prevVal)).addClass(this.getClassName(e.newVal));
	},
	
	renderUI: function (boundingBox, contentBox) {
		var direction = this.get(&#x27;direction&#x27;);
		var bar = this.get(BAR).appendTo(contentBox).addClass(this.getClassName(BAR));
		this._text.addClass(this.getClassName(&#x27;text&#x27;)).appendTo(contentBox);
		
		boundingBox.addClass(this.getClassName(direction));
		if (direction == &#x27;ltr&#x27;) {
			bar.height(this.get(HEIGHT));
		} else {
			bar.width(this.get(WIDTH));
		}
	},

	_onTween: function (e) {
		if (!this.fire(PROGRESS, { value: e.value })) {
			e.preventDefault();
		}
	},
	
	_onTweenEnd: function () {
		this.fire(&#x27;end&#x27;);
	},
	
	_update: function (value) {
		var self = this;
		var min = this.get(&#x27;minValue&#x27;);
		var newSize = (value - min) &#x2F; (this.get(&#x27;maxValue&#x27;) - min);
		var bar = this.get(BAR);
		var width = this.get(WIDTH), height = this.get(HEIGHT);
		var direction = this.get(&#x27;direction&#x27;);
		var easing = this.get(&#x27;easing&#x27;);
		var duration = this.get(&#x27;duration&#x27;);
		this._text.html(Math.round(newSize * 100) + &#x27;%&#x27;);
		if (this.get(&#x27;animate&#x27;)) {
			if (this._tween) {
				this._tween.unbind(&#x27;tween&#x27;, this._onTween);
				this._tween.unbind(&#x27;end&#x27;, this._onTweenEnd);
				this._tween.destroy();
			}
			var tween = this._tween = new $.Tween({
				node: bar,
				duration: duration,
				easing: easing
			});
			tween.on(&#x27;tween&#x27;, this._onTween, this);
			tween.on(&#x27;end&#x27;, this._onTweenEnd, this);
			switch (direction) {
				case &#x27;ttb&#x27;:
				case &#x27;btt&#x27;:
					tween.set(&#x27;to&#x27;, {
						height: height * newSize
					});
					break;
				default:
					tween.set(&#x27;to&#x27;, {
						width: width * newSize
					});
			}
			tween.play();
		} else {
			switch (direction) {
				case &#x27;ttb&#x27;:
				case &#x27;btt&#x27;:
					newSize *= height;
					bar.height(newSize);
					break;
				default:
					newSize *= width;
					bar.width(newSize);
			}
			this.fire(PROGRESS, { value: newSize });
			this.fire(END);
		}
	},
	
	initializer: function() {
		this._text = $(&#x27;&lt;span&#x2F;&gt;&#x27;).html(&#x27;0%&#x27;);
		
		this.after(&#x27;valueChange&#x27;, this._afterValueChange);
		this.after(&#x27;directionChange&#x27;, this._afterDirectionChange);
		this.after(&#x27;textChange&#x27;, this._afterTextChange);
	}
});
			
});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
