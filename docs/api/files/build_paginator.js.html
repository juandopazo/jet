<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>build\paginator.js - Jet</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Jet"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/$.html">$</a></li>
            
                <li><a href="..&#x2F;classes/Button.html">Button</a></li>
            
                <li><a href="..&#x2F;classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="..&#x2F;classes/CheckBox.html">CheckBox</a></li>
            
                <li><a href="..&#x2F;classes/Cookie.html">Cookie</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.html">DataSource</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Ajax.html">DataSource.Ajax</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Get.html">DataSource.Get</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Local.html">DataSource.Local</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.XDR.html">DataSource.XDR</a></li>
            
                <li><a href="..&#x2F;classes/Escape.html">Escape</a></li>
            
                <li><a href="..&#x2F;classes/FieldSet.html">FieldSet</a></li>
            
                <li><a href="..&#x2F;classes/Form.html">Form</a></li>
            
                <li><a href="..&#x2F;classes/FormField.html">FormField</a></li>
            
                <li><a href="..&#x2F;classes/IO.html">IO</a></li>
            
                <li><a href="..&#x2F;classes/JSON.html">JSON</a></li>
            
                <li><a href="..&#x2F;classes/Layout.html">Layout</a></li>
            
                <li><a href="..&#x2F;classes/LayoutPanel.html">LayoutPanel</a></li>
            
                <li><a href="..&#x2F;classes/LayoutPanelBase.html">LayoutPanelBase</a></li>
            
                <li><a href="..&#x2F;classes/Log.html">Log</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.html">Paginator</a></li>
            
                <li><a href="..&#x2F;classes/ProgressBar.html">ProgressBar</a></li>
            
                <li><a href="..&#x2F;classes/Promise.html">Promise</a></li>
            
                <li><a href="..&#x2F;classes/RadioButton.html">RadioButton</a></li>
            
                <li><a href="..&#x2F;classes/RadioGroup.html">RadioGroup</a></li>
            
                <li><a href="..&#x2F;classes/Record.html">Record</a></li>
            
                <li><a href="..&#x2F;classes/RecordSet.html">RecordSet</a></li>
            
                <li><a href="..&#x2F;classes/SelectField.html">SelectField</a></li>
            
                <li><a href="..&#x2F;classes/SWF.html">SWF</a></li>
            
                <li><a href="..&#x2F;classes/ToggleButton.html">ToggleButton</a></li>
            
                <li><a href="..&#x2F;classes/TreeNode.html">TreeNode</a></li>
            
                <li><a href="..&#x2F;classes/TreeView.html">TreeView</a></li>
            
                <li><a href="..&#x2F;classes/WidgetChild.html">WidgetChild</a></li>
            
                <li><a href="..&#x2F;classes/WidgetParent.html">WidgetParent</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/array-extras.html">array-extras</a></li>
            
                <li><a href="..&#x2F;modules/button.html">button</a></li>
            
                <li><a href="..&#x2F;modules/cookie.html">cookie</a></li>
            
                <li><a href="..&#x2F;modules/datasource.html">datasource</a></li>
            
                <li><a href="..&#x2F;modules/deferred.html">deferred</a></li>
            
                <li><a href="..&#x2F;modules/escape.html">escape</a></li>
            
                <li><a href="..&#x2F;modules/form.html">form</a></li>
            
                <li><a href="..&#x2F;modules/io.html">io</a></li>
            
                <li><a href="..&#x2F;modules/io-xdr.html">io-xdr</a></li>
            
                <li><a href="..&#x2F;modules/json.html">json</a></li>
            
                <li><a href="..&#x2F;modules/layout.html">layout</a></li>
            
                <li><a href="..&#x2F;modules/log.html">log</a></li>
            
                <li><a href="..&#x2F;modules/menu.html">menu</a></li>
            
                <li><a href="..&#x2F;modules/node-deferred.html">node-deferred</a></li>
            
                <li><a href="..&#x2F;modules/paginator.html">paginator</a></li>
            
                <li><a href="..&#x2F;modules/progressbar.html">progressbar</a></li>
            
                <li><a href="..&#x2F;modules/selector.html">selector</a></li>
            
                <li><a href="..&#x2F;modules/swf.html">swf</a></li>
            
                <li><a href="..&#x2F;modules/touch.html">touch</a></li>
            
                <li><a href="..&#x2F;modules/treeview.html">treeview</a></li>
            
                <li><a href="..&#x2F;modules/widget-form.html">widget-form</a></li>
            
                <li><a href="..&#x2F;modules/widget-parentchild.html">widget-parentchild</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: build\paginator.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * Paginator widget
 * @module paginator
 * @requires base
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https:&#x2F;&#x2F;github.com&#x2F;juandopazo&#x2F;jet&#x2F;blob&#x2F;master&#x2F;LICENSE.md
*&#x2F;
jet.add(&#x27;paginator&#x27;, function ($) {
&quot;use strict&quot;;

			
var Lang = $.Lang,
	Hash = $.Hash,
	A = $.Array;
	
var RECORDSET = &#x27;recordSet&#x27;,
	NEW_SPAN = &#x27;&lt;span&#x2F;&gt;&#x27;,
	ACTIVE = &#x27;active&#x27;,
	INACTIVE = &#x27;inactive&#x27;,
	CLICK = &#x27;click&#x27;,
	ID = &#x27;id&#x27;,
	CURRENT_PAGE = &#x27;currentPage&#x27;;
	
&#x2F;**
 * A simple paginator that works on top of a data source
 * @class Paginator
 * @extends Widget
 * @constructor
 * @param {Object} config Object literal specifying configuration properties
 *&#x2F;	
$.Paginator = $.Base.create(&#x27;paginator&#x27;, $.Widget, [], {
	
	ATTRS: {
		&#x2F;**
		 * @attribute recordSet
		 * @description A RecordSet with the data the paginator should handle
		 * @required
		 * @type RecordSet
		 *&#x2F;
		recordSet: {
			required: true
		},
		&#x2F;**
		 * @attribute recordsPerPage
		 * @description Number of records each page should show
		 * @type Number
		 * @default 10
		 *&#x2F;
		recordsPerPage: {
			value: 10
		},
		&#x2F;**
		 * @attribute firstLast
		 * @description Wheter the &#x27;First&#x27; and &#x27;Last&#x27; buttons should appear
		 * @type Boolean
		 * @default true
		 *&#x2F;
		firstLast: {
			value: true
		},
		&#x2F;**
		 * @attribute prevNext
		 * @description Wheter the &#x27;previous&#x27; and &#x27;next&#x27; buttons should appear
		 * @type Boolean
		 * @default true
		 *&#x2F;
		prevNext: {
			value: true
		},
		&#x2F;**
		 * @attribute pagesShown
		 * @description Number of pages that should be listed in the paginator (1, 2, 3...)
		 * @type Number
		 * @default 5
		 *&#x2F;
		pagesShown: {
			value: 5
		},
		&#x2F;**
		 * @attribute firstText
		 * @description The text of the &#x27;first&#x27; button
		 * @writeOnce
		 * @default &#x27;&lt;&lt; first&#x27;
		 * @type String
		 *&#x2F;
		firstText: {
			writeOnce: true,
			value: &#x27;&lt;&lt; first&#x27;
		},
		&#x2F;**
		 * @attribute prevText
		 * @description The text of the &#x27;previous&#x27; button
		 * @writeOnce
		 * @default &#x27;&lt; prev&#x27;
		 * @type String
		 *&#x2F;
		prevText: {
			writeOnce: true,
			value: &#x27;&lt; prev&#x27;
		},
		&#x2F;**
		 * @attribute nextText
		 * @description The text of the &#x27;next&#x27; button
		 * @writeOnce
		 * @default &#x27;next &gt;&#x27;
		 * @type String
		 *&#x2F;
		nextText: {
			writeOnce: true,
			value: &#x27;next &gt;&#x27;
		},
		&#x2F;**
		 * @attribute lastText
		 * @description The text of the &#x27;last&#x27; button
		 * @writeOnce
		 * @default &#x27;last &gt;&gt;&#x27;
		 * @type String
		 *&#x2F;
		lastText: {
			writeOnce: true,
			value: &#x27;last &gt;&gt;&#x27;
		},
		className: {
			writeOnce: true,
			value: &#x27;pg&#x27;
		},
		&#x2F;**
		 * @attribute currentPage
		 * @description The current selected page. If set in the config, 
		 * the paginator will go directly to that page when rendered
		 * @writeOnce
		 * @type Number
		 *&#x2F;
		currentPage: {
			writeOnce: true,
			value: 0
		},
		&#x2F;**
		 * @attribute pageCount
		 * @description The number of pages in the paginator
		 * @readOnly
		 * @type Number
		 *&#x2F;
		pageCount: {
			readOnly: true,
			value: 0
		}
	}
	
}, {
	
	initializer: function () {
		var recordSet = this.get(&#x27;recordSet&#x27;);
		recordSet.on(&#x27;replace&#x27;, this._recalculate, this);
		
		this.set(&#x27;pageCount&#x27;, Math.ceil(recordSet.getRecords().length &#x2F; this.get(&#x27;recordsPerPage&#x27;)) + 1);
	},
	
	_recalculate: function (e) {
		&#x2F;&#x2F;e.data
	},
	
	&#x2F;**
	 * Go to a certain page
	 * @method goTo
	 * @param {Number} page
	 * @chainable
	 *&#x2F;
	goTo: function (page) {
		
		return this;
	},
	
	_onFirstClick: function (e) {
		if (e.target.hasClass(ACTIVE)) {
			this.goTo(0);
		}
	},
	
	_onPrevClick: function (e) {
		if (e.target.hasClass(ACTIVE)) {
			this.goTo(this.get(CURRENT_PAGE) - 1);
		}
	},
	
	_onPageSelectorClick: function (e) {
		this.goTo(parseInt($(e.target).html(), 10));
	},
	
	_onNextClick: function (e) {
		if (e.target.hasClass(ACTIVE)) {
			this.goTo(this.get(CURRENT_PAGE) + 1);
		}
	},
	
	_onLastClick: function (e) {
		if (e.target.hasClass(ACTIVE)) {
			this.goTo(this.get(&#x27;pageCount&#x27;) - 1);
		}
	},
	
	_createButton: function (className, callback, text, container) {
		var id = this.get(&#x27;id&#x27;);
		var btn = $(NEW_SPAN).attr(ID, this.getClassName(id, className)).addClass(this.getClassName(className), INACTIVE).html(text);
		btn.on(CLICK, callback, this);
		btn.appendTo(container);
		return btn;
	},
	
	renderUI: function () {
		var pagesContainer, pageSpan;
		var pageCount = this.get(&#x27;pageCount&#x27;);
		var currentPage = this.get(&#x27;currentPage&#x27;);
		var id = this.get(&#x27;id&#x27;), i;
		var boundingBox = this.get(&#x27;boundingBox&#x27;);
		var getClassName = $.bind(this.getClassName, this);
		
		&#x2F;&#x2F; the &#x27;first&#x27; button object
		this._createButton(&#x27;first&#x27;, this._onFirstClick, this.get(&#x27;firstText&#x27;), boundingBox);
		
		&#x2F;&#x2F; the &#x27;previous&#x27; button object
		this._createButton(&#x27;previous&#x27;, this._onPrevClick, this.get(&#x27;prevText&#x27;), boundingBox);
		
		&#x2F;&#x2F; the pages are inside a container
		pagesContainer = $(NEW_SPAN).addClass(getClassName(&#x27;pages&#x27;)).appendTo(boundingBox);
		
		for (i = currentPage + 1; i &lt; currentPage + pageCount + 1; i++) {
			&#x2F;&#x2F; create each &#x27;page&#x27; button
			pageSpan = this._createButton(&#x27;page&#x27;, this._onPageSelectorClick, i, pagesContainer);
			pageSpan.removeClass(INACTIVE);
			pageSpan.addClass(i == currentPage + 1 ? getClassName(&#x27;current&#x27;, &#x27;page&#x27;) : &#x27;&#x27;, i == currentPage + 1 ? ACTIVE : INACTIVE);
		}
		
		&#x2F;&#x2F; the &#x27;next&#x27; button object
		this._createButton(&#x27;next&#x27;, this._onNextClick, this.get(&#x27;nextText&#x27;), boundingBox);
		
		&#x2F;&#x2F; the &#x27;last&#x27; button object
		this._createButton(&#x27;last&#x27;, this._onLastClick, this.get(&#x27;lastText&#x27;), boundingBox);
		
	}
	
});
			
});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
