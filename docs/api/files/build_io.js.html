<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Jet</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.4.0/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="http://yui.yahooapis.com/3.4.0/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/logo.png">Jet</a></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.2</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
    <div class="hd">
        <h2 class="no-toc">Modules</h2>
    </div>
    <div class="bd">
        <ul>
            
                <li><a href="../modules/anim.html">anim</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/appview.html">appview</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/array-extras.html">array-extras</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/base.html">base</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/button.html">button</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/container.html">container</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/cookie.html">cookie</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/datasource.html">datasource</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/datatable.html">datatable</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/deferred.html">deferred</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/dragdrop.html">dragdrop</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/escape.html">escape</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/form.html">form</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/history.html">history</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/imageloader.html">imageloader</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/io.html">io</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/io-xdr.html">io-xdr</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/json.html">json</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/layout.html">layout</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/log.html">log</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/menu.html">menu</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/node.html">node</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/node-deferred.html">node-deferred</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/oop.html">oop</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/paginator.html">paginator</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/progressbar.html">progressbar</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/resize.html">resize</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/selector.html">selector</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/sizzle.html">sizzle</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/swf.html">swf</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/tabview.html">tabview</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/touch.html">touch</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/transition.html">transition</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/treeview.html">treeview</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/vector.html">vector</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/widget-alignment.html">widget-alignment</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/widget-parentchild.html">widget-parentchild</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/widget-sandbox.html">widget-sandbox</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
                <li><a href="../modules/widget-stack.html">widget-stack</a>
                
                    <ul>
                        
                    </ul>
                
                </li>
            
        </ul>
    </div>
</div>

<div id="classes" class="sidebox">
    <div class="hd">
        <h2 class="no-toc">Classes</h2>
    </div>
    <div class="bd">
        <ul>
            
                <li><a href="../classes/AppView.html">AppView</a></li>
            
                <li><a href="../classes/Array.html">Array</a></li>
            
                <li><a href="../classes/ArrayList.html">ArrayList</a></li>
            
                <li><a href="../classes/Attribute.html">Attribute</a></li>
            
                <li><a href="../classes/Base.html">Base</a></li>
            
                <li><a href="../classes/BuiltClass.html">BuiltClass</a></li>
            
                <li><a href="../classes/Button.html">Button</a></li>
            
                <li><a href="../classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="../classes/Cell.html">Cell</a></li>
            
                <li><a href="../classes/CheckBox.html">CheckBox</a></li>
            
                <li><a href="../classes/Class.html">Class</a></li>
            
                <li><a href="../classes/Column.html">Column</a></li>
            
                <li><a href="../classes/ComboBox.html">ComboBox</a></li>
            
                <li><a href="../classes/ComboOption.html">ComboOption</a></li>
            
                <li><a href="../classes/Cookie.html">Cookie</a></li>
            
                <li><a href="../classes/Core.html">Core</a></li>
            
                <li><a href="../classes/DataSource.html">DataSource</a></li>
            
                <li><a href="../classes/DataSource.Ajax.html">DataSource.Ajax</a></li>
            
                <li><a href="../classes/DataSource.Get.html">DataSource.Get</a></li>
            
                <li><a href="../classes/DataSource.Local.html">DataSource.Local</a></li>
            
                <li><a href="../classes/DataSource.XDR.html">DataSource.XDR</a></li>
            
                <li><a href="../classes/DataTable.html">DataTable</a></li>
            
                <li><a href="../classes/Deferred.html">Deferred</a></li>
            
                <li><a href="../classes/DOM.html">DOM</a></li>
            
                <li><a href="../classes/DOMEventHandler.html">DOMEventHandler</a></li>
            
                <li><a href="../classes/Drag.html">Drag</a></li>
            
                <li><a href="../classes/DragDrop.html">DragDrop</a></li>
            
                <li><a href="../classes/Easing.html">Easing</a></li>
            
                <li><a href="../classes/Escape.html">Escape</a></li>
            
                <li><a href="../classes/Event.Cache.html">Event.Cache</a></li>
            
                <li><a href="../classes/EventFacade.html">EventFacade</a></li>
            
                <li><a href="../classes/EventTarget.html">EventTarget</a></li>
            
                <li><a href="../classes/FanLoader.html">FanLoader</a></li>
            
                <li><a href="../classes/FieldSet.html">FieldSet</a></li>
            
                <li><a href="../classes/Form.html">Form</a></li>
            
                <li><a href="../classes/FormField.html">FormField</a></li>
            
                <li><a href="../classes/Frame.html">Frame</a></li>
            
                <li><a href="../classes/Get.html">Get</a></li>
            
                <li><a href="../classes/History.html">History</a></li>
            
                <li><a href="../classes/Image.html">Image</a></li>
            
                <li><a href="../classes/ImageLoader.html">ImageLoader</a></li>
            
                <li><a href="../classes/IO.html">IO</a></li>
            
                <li><a href="../classes/jet.html">jet</a></li>
            
                <li><a href="../classes/jet~deferred.html">jet~deferred</a></li>
            
                <li><a href="../classes/JSON.html">JSON</a></li>
            
                <li><a href="../classes/Lang.html">Lang</a></li>
            
                <li><a href="../classes/Layout.html">Layout</a></li>
            
                <li><a href="../classes/LayoutPanel.html">LayoutPanel</a></li>
            
                <li><a href="../classes/LayoutPanelBase.html">LayoutPanelBase</a></li>
            
                <li><a href="../classes/Log.html">Log</a></li>
            
                <li><a href="../classes/Module.html">Module</a></li>
            
                <li><a href="../classes/Mouse.html">Mouse</a></li>
            
                <li><a href="../classes/NodeList.html">NodeList</a></li>
            
                <li><a href="../classes/Object.html">Object</a></li>
            
                <li><a href="../classes/Overlay.html">Overlay</a></li>
            
                <li><a href="../classes/Page.html">Page</a></li>
            
                <li><a href="../classes/Paginator.html">Paginator</a></li>
            
                <li><a href="../classes/Panel.html">Panel</a></li>
            
                <li><a href="../classes/PanelBase.html">PanelBase</a></li>
            
                <li><a href="../classes/ProgressBar.html">ProgressBar</a></li>
            
                <li><a href="../classes/RadioButton.html">RadioButton</a></li>
            
                <li><a href="../classes/RadioGroup.html">RadioGroup</a></li>
            
                <li><a href="../classes/Record.html">Record</a></li>
            
                <li><a href="../classes/RecordSet.html">RecordSet</a></li>
            
                <li><a href="../classes/Resize.html">Resize</a></li>
            
                <li><a href="../classes/Sandbox.html">Sandbox</a></li>
            
                <li><a href="../classes/Scrollable.html">Scrollable</a></li>
            
                <li><a href="../classes/SimpleDialog.html">SimpleDialog</a></li>
            
                <li><a href="../classes/StaticPanel.html">StaticPanel</a></li>
            
                <li><a href="../classes/SWF.html">SWF</a></li>
            
                <li><a href="../classes/Tab.html">Tab</a></li>
            
                <li><a href="../classes/TabView.html">TabView</a></li>
            
                <li><a href="../classes/TimeFrame.html">TimeFrame</a></li>
            
                <li><a href="../classes/ToggleButton.html">ToggleButton</a></li>
            
                <li><a href="../classes/Tooltip.html">Tooltip</a></li>
            
                <li><a href="../classes/TreeNode.html">TreeNode</a></li>
            
                <li><a href="../classes/TreeView.html">TreeView</a></li>
            
                <li><a href="../classes/Tween.html">Tween</a></li>
            
                <li><a href="../classes/UA.html">UA</a></li>
            
                <li><a href="../classes/Utility.html">Utility</a></li>
            
                <li><a href="../classes/Vector.html">Vector</a></li>
            
                <li><a href="../classes/Vector.Circle.html">Vector.Circle</a></li>
            
                <li><a href="../classes/Vector.Ellipse.html">Vector.Ellipse</a></li>
            
                <li><a href="../classes/Vector.Image.html">Vector.Image</a></li>
            
                <li><a href="../classes/Vector.Line.html">Vector.Line</a></li>
            
                <li><a href="../classes/Vector.Path.html">Vector.Path</a></li>
            
                <li><a href="../classes/Vector.Rectangle.html">Vector.Rectangle</a></li>
            
                <li><a href="../classes/Vector.RoundedRectangle.html">Vector.RoundedRectangle</a></li>
            
                <li><a href="../classes/Vector.Text.html">Vector.Text</a></li>
            
                <li><a href="../classes/VectorView.html">VectorView</a></li>
            
                <li><a href="../classes/Widget.html">Widget</a></li>
            
                <li><a href="../classes/WidgetAlignment.html">WidgetAlignment</a></li>
            
                <li><a href="../classes/WidgetChild.html">WidgetChild</a></li>
            
                <li><a href="../classes/WidgetParent.html">WidgetParent</a></li>
            
                <li><a href="../classes/WidgetStack.html">WidgetStack</a></li>
            
        </ul>
    </div>
</div>










<div id="fileTree" class="sidebox">
    <div class="hd">
        <h2 class="no-toc">Files</h2>
    </div>
    <div class="bd">
        <ul><li>build/<ul><li><a href="../files/build_anim.js.html">anim.js</a></li><li><a href="../files/build_anim.min.js.html">anim.min.js</a></li><li><a href="../files/build_appview.js.html">appview.js</a></li><li><a href="../files/build_appview.min.js.html">appview.min.js</a></li><li><a href="../files/build_array-extras.js.html">array-extras.js</a></li><li><a href="../files/build_array-extras.min.js.html">array-extras.min.js</a></li><li><a href="../files/build_base.js.html">base.js</a></li><li><a href="../files/build_base.min.js.html">base.min.js</a></li><li><a href="../files/build_button.js.html">button.js</a></li><li><a href="../files/build_button.min.js.html">button.min.js</a></li><li><a href="../files/build_container.js.html">container.js</a></li><li><a href="../files/build_container.min.js.html">container.min.js</a></li><li><a href="../files/build_cookie.js.html">cookie.js</a></li><li><a href="../files/build_cookie.min.js.html">cookie.min.js</a></li><li><a href="../files/build_datasource.js.html">datasource.js</a></li><li><a href="../files/build_datasource.min.js.html">datasource.min.js</a></li><li><a href="../files/build_datatable.js.html">datatable.js</a></li><li><a href="../files/build_datatable.min.js.html">datatable.min.js</a></li><li><a href="../files/build_deferred.js.html">deferred.js</a></li><li><a href="../files/build_deferred.min.js.html">deferred.min.js</a></li><li><a href="../files/build_dragdrop.js.html">dragdrop.js</a></li><li><a href="../files/build_dragdrop.min.js.html">dragdrop.min.js</a></li><li><a href="../files/build_escape.js.html">escape.js</a></li><li><a href="../files/build_escape.min.js.html">escape.min.js</a></li><li><a href="../files/build_form.js.html">form.js</a></li><li><a href="../files/build_form.min.js.html">form.min.js</a></li><li><a href="../files/build_history.js.html">history.js</a></li><li><a href="../files/build_history.min.js.html">history.min.js</a></li><li><a href="../files/build_imageloader.js.html">imageloader.js</a></li><li><a href="../files/build_imageloader.min.js.html">imageloader.min.js</a></li><li><a href="../files/build_io-xdr.js.html">io-xdr.js</a></li><li><a href="../files/build_io-xdr.min.js.html">io-xdr.min.js</a></li><li><a href="../files/build_io.js.html">io.js</a></li><li><a href="../files/build_io.min.js.html">io.min.js</a></li><li><a href="../files/build_jet.js.html">jet.js</a></li><li><a href="../files/build_jet.min.js.html">jet.min.js</a></li><li><a href="../files/build_json.js.html">json.js</a></li><li><a href="../files/build_json.min.js.html">json.min.js</a></li><li><a href="../files/build_layout.js.html">layout.js</a></li><li><a href="../files/build_layout.min.js.html">layout.min.js</a></li><li><a href="../files/build_log.js.html">log.js</a></li><li><a href="../files/build_log.min.js.html">log.min.js</a></li><li><a href="../files/build_menu.js.html">menu.js</a></li><li><a href="../files/build_menu.min.js.html">menu.min.js</a></li><li><a href="../files/build_node-deferred.js.html">node-deferred.js</a></li><li><a href="../files/build_node-deferred.min.js.html">node-deferred.min.js</a></li><li><a href="../files/build_oop.js.html">oop.js</a></li><li><a href="../files/build_oop.min.js.html">oop.min.js</a></li><li><a href="../files/build_paginator.js.html">paginator.js</a></li><li><a href="../files/build_paginator.min.js.html">paginator.min.js</a></li><li><a href="../files/build_progressbar.js.html">progressbar.js</a></li><li><a href="../files/build_progressbar.min.js.html">progressbar.min.js</a></li><li><a href="../files/build_resize.js.html">resize.js</a></li><li><a href="../files/build_resize.min.js.html">resize.min.js</a></li><li><a href="../files/build_selector.js.html">selector.js</a></li><li><a href="../files/build_selector.min.js.html">selector.min.js</a></li><li><a href="../files/build_sizzle.js.html">sizzle.js</a></li><li><a href="../files/build_sizzle.min.js.html">sizzle.min.js</a></li><li><a href="../files/build_swf.js.html">swf.js</a></li><li><a href="../files/build_swf.min.js.html">swf.min.js</a></li><li><a href="../files/build_tabview.js.html">tabview.js</a></li><li><a href="../files/build_tabview.min.js.html">tabview.min.js</a></li><li><a href="../files/build_touch.js.html">touch.js</a></li><li><a href="../files/build_touch.min.js.html">touch.min.js</a></li><li><a href="../files/build_transition.js.html">transition.js</a></li><li><a href="../files/build_transition.min.js.html">transition.min.js</a></li><li><a href="../files/build_treeview.js.html">treeview.js</a></li><li><a href="../files/build_treeview.min.js.html">treeview.min.js</a></li><li><a href="../files/build_vector.js.html">vector.js</a></li><li><a href="../files/build_vector.min.js.html">vector.min.js</a></li><li><a href="../files/build_widget-alignment.js.html">widget-alignment.js</a></li><li><a href="../files/build_widget-alignment.min.js.html">widget-alignment.min.js</a></li><li><a href="../files/build_widget-parentchild.js.html">widget-parentchild.js</a></li><li><a href="../files/build_widget-parentchild.min.js.html">widget-parentchild.min.js</a></li><li><a href="../files/build_widget-sandbox.js.html">widget-sandbox.js</a></li><li><a href="../files/build_widget-sandbox.min.js.html">widget-sandbox.min.js</a></li><li><a href="../files/build_widget-stack.js.html">widget-stack.js</a></li><li><a href="../files/build_widget-stack.min.js.html">widget-stack.min.js</a></li></ul></li></ul>
    </div>
</div>



        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>build/io.js</h4>

<pre class="code prettyprint linenums">
/**
 * Handles AJAX, JSONP and XSLT requests
 * @module io
 * @requires deferred
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https://github.com/juandopazo/jet/blob/master/LICENSE.md
*/
jet.add('io', function ($) {

			
var win = $.config.win,
	Lang = $.Lang,
	$Object = $.Object;

var XML = "xml",
XSL = "xsl",
TYPE_JSON = "json",
GET = "GET";

var HAS_AXO = !!win.ActiveXObject;
var HAS_XHR = !!win.XMLHttpRequest;

var newAXO = function (t) {
	return new win.ActiveXObject(t);
};

var hashToURI = function (hash) {
	var result = [];
	$Object.each(hash, function (key, value) {
		result.push(key + "=" + value);
	});
	return result.join("&amp;");
};

var getActiveXParser = function (type) {
	var freeThreadedDOM = "Msxml2.FreeThreadedDOMDocument.",
		domDocument = "Msxml2.DOMDocument.",
		test,
	/* La eleccion de versiones 6.0 y 3.0 es adrede.
	   La version 4.0 es especifica de windows 2000 y la 5.0 viene unicamente con Microsoft Office
	   La version 6 viene con Windows Vista y uno de los service pack de XP, por lo que el usuario quizas no la tenga
	   Se la usa porque es considerablemente mas rapida */
		v6 = "6.0",
		v3 = "3.0";
	try {
		test = newAXO(domDocument + v6);
		getActiveXParser = function (type) {
			if (type == XSL) {
				return newAXO(freeThreadedDOM + v6);
			} else {
				return newAXO(domDocument + v6);
			}
		};
	} catch (e) {
		try {
			test = newAXO(domDocument + v3);
			getActiveXParser = function (type) {
				if (type == XSL) {
					return newAXO(freeThreadedDOM + v3);
				} else {
					return newAXO(domDocument + v3);
				}
			};
		} catch (ex) {
			
		}
	}
	return getActiveXParser(type);
},

getAjaxObject = function () {
	var hostname = location.host,
		msxml = "Microsoft.XMLHTTP",
		test;
	if (HAS_AXO &amp;&amp; (!HAS_XHR || (location.protocol == "file:" || hostname == "localhost" || hostname == "127.0.0.1"))) {
		getAjaxObject = function () {
			return newAXO(msxml);
		};
	} else {
		getAjaxObject = function () {
			return new XMLHttpRequest();
		};
	}
	return getAjaxObject();
};

var timeoutError = "timeout",
noObjectError = "Can't create object",
noStatusError = "Bad status",
notFoundError = "File not found";

/* Parsea un XML
En Internet Explorer instancia un objeto ActiveX llamado MSXML. En el resto usa XMLHttpRequest.responseXML */
var parseXML = function (xmlFile, type, errorHandler) {
	var xmlDoc = null;
	if (xmlFile.responseXML) {
		xmlDoc = xmlFile.responseXML;
	} else if (win.DOMParser) {
		xmlDoc = new win.DOMParser();
		xmlDoc = xmlDoc.parseFromString(xmlFile.responseText || xmlFile, "text/xml");
	} else if (HAS_AXO) {
		xmlDoc = getActiveXParser(type);
		xmlDoc.async = false;
		xmlDoc.loadXML(xmlFile.responseText || xmlFile);
		if (xmlDoc.parseError.errorCode !== 0) {
			errorHandler(noStatusError, xmlDoc.parseError);
		}
	} else {
		errorHandler(0, {
			reason: "Can't find a suitable XML parser",
			srcText: xmlFile
		});
	}
	return xmlDoc;
};
			
var getResultByContentType = function (xhr, dataType, onError) {
	var contentType = dataType || xhr.getResponseHeader('Content-type');
	switch (contentType) {
	case 'application/xml':
	case XML:
	case XSL:
		return parseXML(xhr, contentType, onError);
	case TYPE_JSON:
		try {
			return $.JSON.parse(xhr.responseText);
		} catch (e) {
			$.error(e);
		}
		break;
	default:					
		return xhr.responseText;
	}
};


/**
 * Handles AJAX and JSONP requests
 * @class IO
 * @static
 */
/**
 * Makes an ajax request
 * @method ajax
 * @param {Object} settings
 */
function ajax(url, settings) {
	var xhr = getAjaxObject();
   
	var success = settings.success,

	result = null;
	
	var dataType		= settings.dataType;
	var timeout			= settings.timeout || 10000; /* Tiempo que tarda en cancelarse la transaccion */
	var method			= settings.method || "GET"; /* Metodo para enviar informacion al servidor */
	var async			= settings.async || true;
	var complete		= settings.complete || function () {};
	var onSuccess		= function () {
		if (success) {
			success.apply($, arguments);
		}
		complete.apply($, arguments);
	};
	var onError			= function (a, b, c) {
		if (settings.failure) {
			settings.failure(a, b, c);
		}
		complete.apply($, arguments);
	};

	if (xhr) {
		/* Esto corrije el problema de ausencia de tipos mime solo si existe el metodo overrideMimeType (no existe en IE) */
		if (dataType &amp;&amp; (dataType === XML || dataType === XSL) &amp;&amp; xhr.overrideMimeType) {
			xhr.overrideMimeType('text/xml');
		}
		if (url) {
			if (url.substr(url.length - 1) != "?") {
				url += "?";
			}
			if (settings.data) {
				url += hashToURI(settings.data);
			}
			if (async === true) {
				xhr.onreadystatechange = function () {
					if (xhr.readyState === 4) {
						/* Normalmente deberia chequearse unicamente el status == 200, pero cuando se hace una transaccion local el status en IE termina siendo 0
						 por lo que con revisar que exista la respuesta alcanza */
						if (xhr.status === 404) {
							onError(notFoundError, xhr.status, xhr);
						} else if (xhr.status === 408) {
							onError(timeoutError, xhr.status, xhr);
						} else if (xhr.status === 200 || xhr.responseText || xhr.responseXML) { 
							onSuccess(getResultByContentType(xhr, dataType, onError), xhr);
						} else {
							onError(noStatusError, xhr.status, xhr); 
						}
					}
				};
			}
			/* Cuando la transaccion se hace en un filesystem local y el archivo de destino no existe,
			   no se llega a pasar por el evento onreadystatechange sino que puede lanzar una excepcion en algunos navegadores */
			try {
				xhr.open(method, url, async);
				xhr.send(null);
			} catch (e) {
				onError(noStatusError, 404, xhr); 
			}
			if (async === false) {
				result = getResultByContentType(xhr, dataType, onError);
			} else {
				setTimeout(function () {
					if (xhr.readyState !== 4) {
						xhr.abort();
						onError(timeoutError, 408, xhr);
					}
				}, timeout);
			}
		}
	}
	return result || $;
}
var ioNS = jet.namespace('IO');
if (!ioNS.jsonpCallbacks) {
	ioNS.jsonpCallbacks = [];
}

function jsonp(url, settings) {
	settings = settings || {};
	var jsonCallbackParam = settings.jsonCallbackParam || "p";
	var success = function (result) {
		if (settings.success) {
			settings.success(result);
		}
		if (settings.complete) {
			settings.complete(result);
		}
	};
	var error = function (result) {
		if (settings.failure) {
			settings.failure(result);
		}
		if (settings.complete) {
			settings.complete(result);
		}
	};
	var callbacks = ioNS.jsonpCallbacks;
	var index = callbacks.length;
	var loaded = false;
	if (url) {
		callbacks[index] = function (data) {
			loaded = true;
			success(data);
		};
		if (url.substr(url.length - 1) != "?") {
			url += "?";
		}
		if (!settings.data) {
			settings.data = {};
		}
		settings.data[jsonCallbackParam] = "jet.IO.jsonpCallbacks[" + index + "]";
		
		//Added a timeout of 0 as suggested by Google in 
		//http://googlecode.blogspot.com/2010/11/instant-previews-under-hood.html
		setTimeout(function () {
			$.Get.script(url + hashToURI(settings.data));
		}, 0);
		setTimeout(function () {
			if (!loaded) {
				error({
					message: "Request failed",
					reason: "Timeout"
				});
			}
		}, settings.timeout || 10000);
	}
};
var transform = function (xml, xsl, parameters) {
	parameters = parameters || {};
	if (win.XSLTProcessor) {
		transform = function (xml, xsl, parameters) {
			var xsltProcessor = new window.XSLTProcessor(),
				intnode,
				paramName;
			xsltProcessor.importStylesheet(xsl);
			for (paramName in parameters) {
				if (parameters.hasOwnProperty(paramName)) {
					xsltProcessor.setParameter(null, paramName, parameters[paramName]);
				}
			}
			return $(xsltProcessor.transformToFragment(xml, $.context));
		};
	} else if (win.ActiveXObject) {
		transform = function (xml, xsl, parameters) {
			var xsltThread = new window.ActiveXObject("Msxml2.XSLTemplate.6.0"),
				xsltProc,
				paramName;
			xsltThread.stylesheet = xsl;
			xsltProc = xsltThread.createProcessor();
			xsltProc.input = xml;
			for (paramName in parameters) {
				if (parameters.hasOwnProperty(paramName)) {
					xsltProc.addParameter(paramName, parameters[paramName]);
				}
			}
			xsltProc.transform();
			return $(xsltProc.output);
		};
	}
	return transform(xml, xsl, parameters);
};
	
/**
 * @method xsl
 * @description Makes a XSL transformation. Loads the files with Ajax if needed. &lt;strong&gt;Requires the io-xsl submodule&lt;/strong&gt;
 * @param {Object} settings
 */
function xslt(xml, xsl, settings) {
	var parameters = settings.params;
	var xmlDoc, xslDoc;
	
	var success = function (data) {
		if (settings.success) {
			settings.success(data);
		}
		if (settings.complete) {
			settings.complete(data);
		}
	};
	var error = function (data) {
		if (settings.failure) {
			settings.failure(data);
		}
		if (settings.complete) {
			settings.complete(data);
		}
	};
	
	var checkReady = function () {
		if (xmlDoc &amp;&amp; xslDoc) {
			success(transform(xmlDoc, xslDoc, parameters));
		}
	};
	if (Lang.isString(xml) || Lang.isString(xsl)) {
		if (Lang.isString(xml)) {
			$.ajax({
				url: xml,
				dataType: 'xml',
				success: function (result) {
					xmlDoc = result;
					checkReady();
				},
				error: error
			});
		} else {
			xmlDoc = xml;
		}
		if (Lang.isString(xsl)) {
			$.ajax({
				url: xsl,
				dataType: 'xsl',
				success: function (result) {
					xslDoc = result;
					checkReady();
				},
				error: error
			});
		} else {
			xslDoc = xsl;
		}
	} else {
		xmlDoc = xml;
		xslDoc = xml;
		checkReady();
	}
};/**
 * Represents the promise of an IO request being completed.
 * Can also be aborted
 * @class Request
 * @constructor
 * @extends Promise
 */
function Request() {
	Request.superclass.constructor.apply(this, arguments);
}
$.extend(Request, $.Promise, {
	
	/**
	 * @method abort
	 * @description Aborts the request if available (doesn't work on JSONP transactions)
	 * @chainable
	 */
	abort: function () {
		if (this._request &amp;&amp; this._request.abort) {
			this._request.abort();
		}
		return this.reject();
	}
	
	/**
	 * @method ajax
	 * @description Calls $.ajax and returns a new Request
	 * @param {String} url The url for the io request
	 * @param {Object} config Config options for the io request (see $.io)
	 * @return Request
	 */
	
	/**
	 * @method jsonp
	 * @description Calls $.jsonp and returns a new Request
	 * @param {String} url The url for the jsonp request
	 * @param {Object} config Config options for the jsonp request (see $.io)
	 * @return Request
	 */
	
}, {
	
	addMethod: function (name, fn) {
		Request.prototype[name] = function (url, opts) {
			var config = (!Lang.isObject(opts) || Lang.isFunction(opts)) ? {} : opts,
				on = config.on || (config.on = {}),
				success = on.success,
				failure = on.failure;
			if (Lang.isFunction(opts)) {
				success = opts;
			}
			return this.defer(function (promise) {
				on.success = $.bind(promise.resolve, promise);
				on.failure = $.bind(promise.reject, promise);
				this._request = fn(url, config);
			}).then(success, failure);
		};
	}
	
});

$.Request = Request;

var TRANSACTION_METHODS = {
	ajax: ajax,
	jsonp: jsonp,
	xslt: xslt
};

$Object.each(TRANSACTION_METHODS, Request.addMethod);

$Object.each(TRANSACTION_METHODS, function (method) {
	
	$[method] = function () {
		var transaction = new $.Request();
		return transaction[method].apply(transaction, arguments);
	};
	
});
			
});

</pre>

</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/js/tabs.js"></script>
</body>
</html>
