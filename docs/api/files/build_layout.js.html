<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>build\layout.js - Jet</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Jet"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/$.html">$</a></li>
            
                <li><a href="..&#x2F;classes/Button.html">Button</a></li>
            
                <li><a href="..&#x2F;classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="..&#x2F;classes/CheckBox.html">CheckBox</a></li>
            
                <li><a href="..&#x2F;classes/Cookie.html">Cookie</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.html">DataSource</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Ajax.html">DataSource.Ajax</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Get.html">DataSource.Get</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.Local.html">DataSource.Local</a></li>
            
                <li><a href="..&#x2F;classes/DataSource.XDR.html">DataSource.XDR</a></li>
            
                <li><a href="..&#x2F;classes/Escape.html">Escape</a></li>
            
                <li><a href="..&#x2F;classes/FieldSet.html">FieldSet</a></li>
            
                <li><a href="..&#x2F;classes/Form.html">Form</a></li>
            
                <li><a href="..&#x2F;classes/FormField.html">FormField</a></li>
            
                <li><a href="..&#x2F;classes/IO.html">IO</a></li>
            
                <li><a href="..&#x2F;classes/JSON.html">JSON</a></li>
            
                <li><a href="..&#x2F;classes/Layout.html">Layout</a></li>
            
                <li><a href="..&#x2F;classes/LayoutPanel.html">LayoutPanel</a></li>
            
                <li><a href="..&#x2F;classes/LayoutPanelBase.html">LayoutPanelBase</a></li>
            
                <li><a href="..&#x2F;classes/Log.html">Log</a></li>
            
                <li><a href="..&#x2F;classes/Paginator.html">Paginator</a></li>
            
                <li><a href="..&#x2F;classes/ProgressBar.html">ProgressBar</a></li>
            
                <li><a href="..&#x2F;classes/Promise.html">Promise</a></li>
            
                <li><a href="..&#x2F;classes/RadioButton.html">RadioButton</a></li>
            
                <li><a href="..&#x2F;classes/RadioGroup.html">RadioGroup</a></li>
            
                <li><a href="..&#x2F;classes/Record.html">Record</a></li>
            
                <li><a href="..&#x2F;classes/RecordSet.html">RecordSet</a></li>
            
                <li><a href="..&#x2F;classes/SelectField.html">SelectField</a></li>
            
                <li><a href="..&#x2F;classes/SWF.html">SWF</a></li>
            
                <li><a href="..&#x2F;classes/ToggleButton.html">ToggleButton</a></li>
            
                <li><a href="..&#x2F;classes/TreeNode.html">TreeNode</a></li>
            
                <li><a href="..&#x2F;classes/TreeView.html">TreeView</a></li>
            
                <li><a href="..&#x2F;classes/WidgetChild.html">WidgetChild</a></li>
            
                <li><a href="..&#x2F;classes/WidgetParent.html">WidgetParent</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/array-extras.html">array-extras</a></li>
            
                <li><a href="..&#x2F;modules/button.html">button</a></li>
            
                <li><a href="..&#x2F;modules/cookie.html">cookie</a></li>
            
                <li><a href="..&#x2F;modules/datasource.html">datasource</a></li>
            
                <li><a href="..&#x2F;modules/deferred.html">deferred</a></li>
            
                <li><a href="..&#x2F;modules/escape.html">escape</a></li>
            
                <li><a href="..&#x2F;modules/form.html">form</a></li>
            
                <li><a href="..&#x2F;modules/io.html">io</a></li>
            
                <li><a href="..&#x2F;modules/io-xdr.html">io-xdr</a></li>
            
                <li><a href="..&#x2F;modules/json.html">json</a></li>
            
                <li><a href="..&#x2F;modules/layout.html">layout</a></li>
            
                <li><a href="..&#x2F;modules/log.html">log</a></li>
            
                <li><a href="..&#x2F;modules/menu.html">menu</a></li>
            
                <li><a href="..&#x2F;modules/node-deferred.html">node-deferred</a></li>
            
                <li><a href="..&#x2F;modules/paginator.html">paginator</a></li>
            
                <li><a href="..&#x2F;modules/progressbar.html">progressbar</a></li>
            
                <li><a href="..&#x2F;modules/selector.html">selector</a></li>
            
                <li><a href="..&#x2F;modules/swf.html">swf</a></li>
            
                <li><a href="..&#x2F;modules/touch.html">touch</a></li>
            
                <li><a href="..&#x2F;modules/treeview.html">treeview</a></li>
            
                <li><a href="..&#x2F;modules/widget-form.html">widget-form</a></li>
            
                <li><a href="..&#x2F;modules/widget-parentchild.html">widget-parentchild</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: build\layout.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * Creates a resizable layout
 * @module layout
 * @requires base,resize,widget-parentchild
 * 
 * Copyright (c) 2011, Juan Ignacio Dopazo. All rights reserved.
 * Code licensed under the BSD License
 * https:&#x2F;&#x2F;github.com&#x2F;juandopazo&#x2F;jet&#x2F;blob&#x2F;master&#x2F;LICENSE.md
*&#x2F;
jet.add(&#x27;layout&#x27;, function ($) {
&quot;use strict&quot;;

			
var Resize = $.Resize;

&#x2F;**
 * Base class used to create both the Layout and LayoutPanel classes.
 * Provides functionality to resize panels keeping the declared layout structure
 * @class LayoutPanelBase
 * @constructor
 *&#x2F;
function LayoutPanelBase() {
	this.after(&#x27;widthChange&#x27;, this._onSizeChange);
	this.after(&#x27;heightChange&#x27;, this._onSizeChange);
}

LayoutPanelBase.Vertical = &#x27;v&#x27;;
LayoutPanelBase.Horizontal = &#x27;h&#x27;;

$.mix(LayoutPanelBase, {
	
	ATTRS: {
		&#x2F;**
		 * @config direction
		 * @description Direction in which this panel can be resized
		 * @default LayoutPanelBase.Vertical
		 * @writeOnce
		 *&#x2F;
		direction: {
			value: LayoutPanelBase.Vertical,
			writeOnce: true
		},
		&#x2F;**
		 * @config minSize
		 * @description Minimum size the panel can acquire. Applies to width or height depending on the &#x27;direction&#x27; attribute
		 * @default 0
		 * @writeOnce
		 *&#x2F;
		minSize: {
			value: 5,
			wriceOnce: true
		},
		&#x2F;**
		 * @config shim
		 * @description Whether the resize utility should use a shim to protect the mouse movements
		 * @default false
		 * @writeOnce
		 *&#x2F;
		shim: {
			value: false,
			writeOnce: true
		},
		&#x2F;**
		 * @config defaultChildType
		 * @description Default type to apply to children
		 * @default LayoutPanel
		 *&#x2F;
		defaultChildType: {
			value: &#x27;LayoutPanel&#x27;
		}
	},
	
	EVENTS: {
		afterRender: &#x27;_uiLayoutRender&#x27;,
		afterAddChild: &#x27;_setupChildResize&#x27;,
		removeChild: &#x27;_destroyChildResize&#x27;
	},
	
	HTML_PARSER: {
		direction: function (boundingBox) {
			return boundingBox.hasClass(this.getClassName(LayoutPanelBase.Horizontal)) ? LayoutPanelBase.Horizontal : LayoutPanelBase.Vertical;
		}
	}
});

LayoutPanelBase.prototype = {
	
	_onSizeChange: function(e) {
		if (this.size() &gt; 0 &amp;&amp; $.Lang.isNumber(e.prevVal) &amp;&amp; $.Lang.isNumber(e.newVal)) {
			var lastChild = this.last(),
				sizeType = this.get(&#x27;direction&#x27;) === LayoutPanelBase.Vertical ? &#x27;height&#x27; : &#x27;width&#x27;,
				size = 0,
				child = this.first();
			while (child !== lastChild) {
				size += child.get(sizeType);
				child = child.next();
			}
			lastChild.set(sizeType, Math.floor(e.newVal - size));
		}
	},
		
	_uiLayoutRender: function () {
		var direction = this.get(&#x27;direction&#x27;);
		var boundingBox = this.get(&#x27;boundingBox&#x27;);
		var sizeType = direction == LayoutPanelBase.Horizontal ? &#x27;width&#x27; : &#x27;height&#x27;;
		var setSize = 0;
		var freeSize = 0;
		var childrenNumber = this.get(&#x27;children&#x27;).length;
		if (childrenNumber &gt; 0) {
			boundingBox.addClass(this.getClassName(direction));
		}
		this.each(function (child) {
			setSize += child.get(sizeType) || 0;
		});
		freeSize = (boundingBox[sizeType]() - setSize) &#x2F; childrenNumber;
		this.each(function (child) {
			if (!child.get(sizeType)) {
				child.set(sizeType, freeSize);
			}
		});
	},
	
	_setupChildResize: function (e) {
		
		var Resize = $.Resize;
		var minSize = this.get(&#x27;minSize&#x27;);
		var direction = this.get(&#x27;direction&#x27;);
		var child = e.child;
			
		if (e.index &gt; 0) {
			
			child.resize = new Resize({
				node: child.get(&#x27;boundingBox&#x27;),
				handles: [direction == LayoutPanelBase.Horizontal ? Resize.Left : Resize.Top],
				minWidth: minSize,
				minHeight: minSize,
				shim: this.get(&#x27;shim&#x27;)
			});
			
			child.resize.on(&#x27;resize:start&#x27;, this._onChildResizeStart, child);
			child.resize.on(&#x27;resize&#x27;, this._onChildResize, child);
			
		}
			
		child.get(&#x27;boundingBox&#x27;).addClass(child.getClassName(&#x27;child&#x27;, direction));
	},
	
	_destroyChildResize: function (e) {
		
		e.child.resize.destroy();
		e.child.resize = null;
		
	},
	
	_onChildResizeStart: function (e) {
		
		var previous = this.previous();
		var previousBoundingBox = previous.get(&#x27;boundingBox&#x27;);
		
		previous._originalWidth = previousBoundingBox.width();
		previous._originalHeight = previousBoundingBox.height(); 
		
	},
	
	_onChildResize: function (e) {
		var childResize = e.target;
		var previous = this.previous();
		var previousBoundingBox = previous.get(&#x27;boundingBox&#x27;);
		
		if (this.get(&#x27;parent&#x27;).get(&#x27;direction&#x27;) == LayoutPanelBase.Horizontal) {
			
			previousBoundingBox.width(childResize.get(&#x27;originalWidth&#x27;) - e.width + previous._originalWidth);
			
		} else {
			
			previousBoundingBox.height(childResize.get(&#x27;originalHeight&#x27;) - e.height + previous._originalHeight);
			
		}
	}
};

$.LayoutPanelBase = LayoutPanelBase;
&#x2F;**
 * A Layout Panel is a resizable block which size is constrained by the other blocks in the same container
 * @class LayoutPanel
 * @uses LayoutPanelBase
 * @uses WidgetParent
 * @uses WidgetChild
 * @extends Widget
 * @constructor
 * @param {Object} config Object literal specifying widget configuration properties
 *&#x2F;
$.LayoutPanel = $.Base.create(&#x27;layout-panel&#x27;, $.Widget, [$.LayoutPanelBase, $.WidgetParent, $.WidgetChild], {}, {
	
	CONTENT_TEMPLATE: null
	
});

&#x2F;**
 * A Layout is a container of Layout Panels
 * @class Layout
 * @uses LayoutPanelBase
 * @uses WidgetParent
 * @extends Widget
 * @constructor
 * @param {Object} config Object literal specifying widget configuration properties
 *&#x2F;
$.Layout = $.Base.create(&#x27;layout&#x27;, $.Widget, [$.LayoutPanelBase, $.WidgetParent], {}, {
	
	CONTENT_TEMPLATE: null
	
});

			
});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
